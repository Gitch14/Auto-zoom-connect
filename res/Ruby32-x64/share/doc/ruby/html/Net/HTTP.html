<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Net::HTTP - Documentation for Ruby 3.2</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
  var index_rel_prefix = "../";
</script>

<script src="../js/navigation.js" defer></script>
<script src="../js/search.js" defer></script>
<script src="../js/search_index.js" defer></script>
<script src="../js/searcher.js" defer></script>
<script src="../js/darkfish.js" defer></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>



  <ul class="link-list" role="directory">
              <li>      <a href="#class-Net::HTTP-label-Synopsis">Synopsis</a>
          <li>      <a href="#class-Net::HTTP-label-About+the+Examples">About the Examples</a>
          <li>
            <details open>
              <summary>      <a href="#class-Net::HTTP-label-URIs">URIs</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#class-Net::HTTP-label-Schemes">Schemes</a>
          <li>      <a href="#class-Net::HTTP-label-Hostnames">Hostnames</a>
          <li>      <a href="#class-Net::HTTP-label-Paths">Paths</a>
          <li>      <a href="#class-Net::HTTP-label-Queries">Queries</a>
          <li>      <a href="#class-Net::HTTP-label-Fragments">Fragments</a>

              </ul>
            </details>
          </li>
          <li>      <a href="#class-Net::HTTP-label-Request+Headers">Request Headers</a>
          <li>
            <details open>
              <summary>      <a href="#class-Net::HTTP-label-Sessions">Sessions</a>
</summary>
              <ul class="link-list" role="directory">
                          <li>      <a href="#class-Net::HTTP-label-Session+Using+Net-3A-3AHTTP.start">Session Using Net::HTTP.start</a>
          <li>      <a href="#class-Net::HTTP-label-Session+Using+Net-3A-3AHTTP.start+and+Net-3A-3AHTTP.finish">Session Using Net::HTTP.start and Net::HTTP.finish</a>
          <li>      <a href="#class-Net::HTTP-label-Single-Request+Session">Single-Request Session</a>

              </ul>
            </details>
          </li>
          <li>      <a href="#class-Net::HTTP-label-HTTP+Requests+and+Responses">HTTP Requests and Responses</a>
          <li>      <a href="#class-Net::HTTP-label-Following+Redirection">Following Redirection</a>
          <li>      <a href="#class-Net::HTTP-label-Basic+Authentication">Basic Authentication</a>
          <li>      <a href="#class-Net::HTTP-label-Streaming+Response+Bodies">Streaming Response Bodies</a>
          <li>      <a href="#class-Net::HTTP-label-HTTPS">HTTPS</a>
          <li>      <a href="#class-Net::HTTP-label-Proxies">Proxies</a>
          <li>      <a href="#class-Net::HTTP-label-Compression">Compression</a>

  </ul>
</div>


  <div id="class-metadata">
    
    
<div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  <p class="link">Protocol
</div>

    
    
    
<!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    <li ><a href="#method-c-default_port">::default_port</a>
    <li ><a href="#method-c-get">::get</a>
    <li ><a href="#method-c-get_print">::get_print</a>
    <li ><a href="#method-c-get_response">::get_response</a>
    <li ><a href="#method-c-http_default_port">::http_default_port</a>
    <li ><a href="#method-c-https_default_port">::https_default_port</a>
    <li ><a href="#method-c-is_version_1_2-3F">::is_version_1_2?</a>
    <li class="calls-super" ><a href="#method-c-new">::new</a>
    <li ><a href="#method-c-new">::new</a>
    <li ><a href="#method-c-newobj">::newobj</a>
    <li ><a href="#method-c-post">::post</a>
    <li ><a href="#method-c-post_form">::post_form</a>
    <li ><a href="#method-c-proxy_class-3F">::proxy_class?</a>
    <li ><a href="#method-c-start">::start</a>
    <li ><a href="#method-c-version_1_2">::version_1_2</a>
    <li ><a href="#method-c-version_1_2-3F">::version_1_2?</a>
    <li ><a href="#method-i-D">#D</a>
    <li ><a href="#method-i-active-3F">#active?</a>
    <li ><a href="#method-i-addr_port">#addr_port</a>
    <li ><a href="#method-i-begin_transport">#begin_transport</a>
    <li ><a href="#method-i-connect">#connect</a>
    <li ><a href="#method-i-continue_timeout-3D">#continue_timeout=</a>
    <li ><a href="#method-i-copy">#copy</a>
    <li ><a href="#method-i-debug">#debug</a>
    <li ><a href="#method-i-delete">#delete</a>
    <li ><a href="#method-i-do_finish">#do_finish</a>
    <li ><a href="#method-i-do_start">#do_start</a>
    <li ><a href="#method-i-edit_path">#edit_path</a>
    <li ><a href="#method-i-end_transport">#end_transport</a>
    <li ><a href="#method-i-finish">#finish</a>
    <li ><a href="#method-i-get">#get</a>
    <li ><a href="#method-i-get2">#get2</a>
    <li ><a href="#method-i-head">#head</a>
    <li ><a href="#method-i-head2">#head2</a>
    <li ><a href="#method-i-inspect">#inspect</a>
    <li ><a href="#method-i-ipaddr">#ipaddr</a>
    <li ><a href="#method-i-ipaddr-3D">#ipaddr=</a>
    <li ><a href="#method-i-keep_alive-3F">#keep_alive?</a>
    <li ><a href="#method-i-lock">#lock</a>
    <li ><a href="#method-i-max_retries-3D">#max_retries=</a>
    <li ><a href="#method-i-mkcol">#mkcol</a>
    <li ><a href="#method-i-move">#move</a>
    <li ><a href="#method-i-on_connect">#on_connect</a>
    <li ><a href="#method-i-options">#options</a>
    <li ><a href="#method-i-patch">#patch</a>
    <li ><a href="#method-i-peer_cert">#peer_cert</a>
    <li ><a href="#method-i-post">#post</a>
    <li ><a href="#method-i-post2">#post2</a>
    <li ><a href="#method-i-propfind">#propfind</a>
    <li ><a href="#method-i-proppatch">#proppatch</a>
    <li ><a href="#method-i-proxy-3F">#proxy?</a>
    <li ><a href="#method-i-proxy_address">#proxy_address</a>
    <li ><a href="#method-i-proxy_from_env-3F">#proxy_from_env?</a>
    <li ><a href="#method-i-proxy_pass">#proxy_pass</a>
    <li ><a href="#method-i-proxy_port">#proxy_port</a>
    <li ><a href="#method-i-proxy_user">#proxy_user</a>
    <li ><a href="#method-i-proxyaddr">#proxyaddr</a>
    <li ><a href="#method-i-proxyport">#proxyport</a>
    <li ><a href="#method-i-read_timeout-3D">#read_timeout=</a>
    <li ><a href="#method-i-request">#request</a>
    <li ><a href="#method-i-request_get">#request_get</a>
    <li ><a href="#method-i-request_head">#request_head</a>
    <li ><a href="#method-i-request_post">#request_post</a>
    <li ><a href="#method-i-response_body_encoding-3D">#response_body_encoding=</a>
    <li ><a href="#method-i-send_entity">#send_entity</a>
    <li ><a href="#method-i-send_request">#send_request</a>
    <li ><a href="#method-i-set_debug_output">#set_debug_output</a>
    <li ><a href="#method-i-sspi_auth">#sspi_auth</a>
    <li ><a href="#method-i-sspi_auth-3F">#sspi_auth?</a>
    <li ><a href="#method-i-start">#start</a>
    <li ><a href="#method-i-started-3F">#started?</a>
    <li ><a href="#method-i-trace">#trace</a>
    <li ><a href="#method-i-transport_request">#transport_request</a>
    <li ><a href="#method-i-unescape">#unescape</a>
    <li ><a href="#method-i-unlock">#unlock</a>
    <li ><a href="#method-i-use_ssl-3D">#use_ssl=</a>
    <li ><a href="#method-i-use_ssl-3F">#use_ssl?</a>
    <li ><a href="#method-i-write_timeout-3D">#write_timeout=</a>
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Net::HTTP">
  <h1 id="class-Net::HTTP" class="class">
    class Net::HTTP
  </h1>

  <section class="description">
    
<p>Class Net::HTTP provides a rich library that implements the client in a client-server model that uses the HTTP request-response protocol. For information about HTTP, see</p>
<ul><li>
<p><a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">Hypertext Transfer Protocol</a>.</p>
</li><li>
<p><a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Technical_overview">Technical overview</a>.</p>
</li></ul>

<p>Note: If you are performing only a few GET requests, consider using <a href="../OpenURI.html"><code>OpenURI</code></a>; otherwise, read on.</p>

<h2 id="class-Net::HTTP-label-Synopsis">Synopsis<span><a href="#class-Net::HTTP-label-Synopsis">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>If you are already familiar with HTTP, this synopsis may be helpful.</p>

<p><a href="HTTP.html#class-Net::HTTP-label-Sessions">Session</a> with multiple requests for <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods">HTTP methods</a>:</p>

<pre class="ruby"><span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">hostname</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-comment"># Session started automatically before block execution.</span>
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">headers</span> = {})
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">head</span>(<span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">headers</span> = {})
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">post</span>(<span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">headers</span> = {})  <span class="ruby-comment"># Can also have a block.</span>
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">put</span>(<span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">headers</span> = {})
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">headers</span> = {<span class="ruby-value">Depth:</span> <span class="ruby-string">&#39;Infinity&#39;</span>})
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">options</span>(<span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">headers</span> = {})
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">trace</span>(<span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">headers</span> = {})
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">patch</span>(<span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">headers</span> = {}) <span class="ruby-comment"># Can also have a block.</span>
  <span class="ruby-comment"># Session finished automatically at block exit.</span>
<span class="ruby-keyword">end</span>
</pre>

<p><a href="HTTP.html#class-Net::HTTP-label-Sessions">Session</a> with multiple requests for <a href="https://en.wikipedia.org/wiki/WebDAV#Implementation">WebDAV methods</a>:</p>

<pre class="ruby"><span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">hostname</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-comment"># Session started automatically before block execution.</span>
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">copy</span>(<span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">headers</span> = {})
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">lock</span>(<span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">headers</span> = {})
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">mkcol</span>(<span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">body</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">headers</span> = {})
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">move</span>(<span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">headers</span> = {})
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">propfind</span>(<span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">body</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">headers</span> = {<span class="ruby-string">&#39;Depth&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&#39;0&#39;</span>})
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proppatch</span>(<span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">headers</span> = {})
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">unlock</span>(<span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">headers</span> = {})
  <span class="ruby-comment"># Session finished automatically at block exit.</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Each of the following methods automatically starts and finishes a <a href="HTTP.html#class-Net::HTTP-label-Sessions">session</a> that sends a single request:</p>

<pre class="ruby"><span class="ruby-comment"># Return string response body.</span>
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">port</span> = <span class="ruby-value">80</span>)
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">headers</span> = {}, <span class="ruby-identifier">port</span> = <span class="ruby-value">80</span>)

<span class="ruby-comment"># Write string response body to $stdout.</span>
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get_print</span>(<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">port</span> = <span class="ruby-value">80</span>)
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get_print</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">headers</span> = {}, <span class="ruby-identifier">port</span> = <span class="ruby-value">80</span>)

<span class="ruby-comment"># Return response as Net::HTTPResponse object.</span>
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get_response</span>(<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">path_or_uri</span>, <span class="ruby-identifier">port</span> = <span class="ruby-value">80</span>)
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get_response</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">headers</span> = {}, <span class="ruby-identifier">port</span> = <span class="ruby-value">80</span>)

<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">post</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">headers</span> = {})
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">post_form</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">params</span>)
</pre>

<h2 id="class-Net::HTTP-label-About+the+Examples">About the Examples<span><a href="#class-Net::HTTP-label-About+the+Examples">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Examples here assume that <code>net/http</code> has been required (which also requires <code>uri</code>):</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;net/http&#39;</span>
</pre>

<p>Many code examples here use these example websites:</p>
<ul><li>
<p><a href="https://jsonplaceholder.typicode.com">jsonplaceholder.typicode.com</a>.</p>
</li><li>
<p><a href="http://example.com">example.com</a>.</p>
</li></ul>

<p>Some examples also assume these variables:</p>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;https://jsonplaceholder.typicode.com&#39;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">freeze</span> <span class="ruby-comment"># Examples may not modify.</span>
<span class="ruby-identifier">hostname</span> = <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">hostname</span> <span class="ruby-comment"># =&gt; &quot;jsonplaceholder.typicode.com&quot;</span>
<span class="ruby-identifier">port</span> = <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>         <span class="ruby-comment"># =&gt; 443</span>
</pre>

<p>So that example requests may be written as:</p>

<pre class="ruby"><span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">uri</span>)
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">hostname</span>, <span class="ruby-string">&#39;/index.html&#39;</span>)
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">hostname</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/todos/1&#39;</span>)
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/todos/2&#39;</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>An example that needs a modified <a href="../URI.html"><code>URI</code></a> first duplicates <code>uri</code>, then modifies the duplicate:</p>

<pre class="ruby"><span class="ruby-identifier">_uri</span> = <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">dup</span>
<span class="ruby-identifier">_uri</span>.<span class="ruby-identifier">path</span> = <span class="ruby-string">&#39;/todos/1&#39;</span>
</pre>

<h2 id="class-Net::HTTP-label-URIs">URIs<span><a href="#class-Net::HTTP-label-URIs">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>On the internet, a <a href="../URI.html"><code>URI</code></a> (<a href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier">Universal Resource Identifier</a>) is a string that identifies a particular resource. It consists of some or all of: scheme, hostname, path, query, and fragment; see <a href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier#Syntax">URI syntax</a>.</p>

<p>A Ruby <a href="../URI/Generic.html"><code>URI::Generic</code></a> object represents an internet <a href="../URI.html"><code>URI</code></a>. It provides, among others, methods <code>scheme</code>, <code>hostname</code>, <code>path</code>, <code>query</code>, and <code>fragment</code>.</p>

<h3 id="class-Net::HTTP-label-Schemes">Schemes<span><a href="#class-Net::HTTP-label-Schemes">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>An internet URI has a <a href="https://en.wikipedia.org/wiki/List_of_URI_schemes">scheme</a>.</p>

<p>The two schemes supported in Net::HTTP are <code>&#39;https&#39;</code> and <code>&#39;http&#39;</code>:</p>

<pre class="ruby"><span class="ruby-identifier">uri</span>.<span class="ruby-identifier">scheme</span>                       <span class="ruby-comment"># =&gt; &quot;https&quot;</span>
<span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;http://example.com&#39;</span>).<span class="ruby-identifier">scheme</span> <span class="ruby-comment"># =&gt; &quot;http&quot;</span>
</pre>

<h3 id="class-Net::HTTP-label-Hostnames">Hostnames<span><a href="#class-Net::HTTP-label-Hostnames">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>A hostname identifies a server (host) to which requests may be sent:</p>

<pre class="ruby"><span class="ruby-identifier">hostname</span> = <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">hostname</span> <span class="ruby-comment"># =&gt; &quot;jsonplaceholder.typicode.com&quot;</span>
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">hostname</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-comment"># Some HTTP stuff.</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="class-Net::HTTP-label-Paths">Paths<span><a href="#class-Net::HTTP-label-Paths">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>A host-specific path identifies a resource on the host:</p>

<pre class="ruby"><span class="ruby-identifier">_uri</span> = <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">dup</span>
<span class="ruby-identifier">_uri</span>.<span class="ruby-identifier">path</span> = <span class="ruby-string">&#39;/todos/1&#39;</span>
<span class="ruby-identifier">hostname</span> = <span class="ruby-identifier">_uri</span>.<span class="ruby-identifier">hostname</span>
<span class="ruby-identifier">path</span> = <span class="ruby-identifier">_uri</span>.<span class="ruby-identifier">path</span>
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">path</span>)
</pre>

<h3 id="class-Net::HTTP-label-Queries">Queries<span><a href="#class-Net::HTTP-label-Queries">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>A host-specific query adds name/value pairs to the URI:</p>

<pre class="ruby"><span class="ruby-identifier">_uri</span> = <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">dup</span>
<span class="ruby-identifier">params</span> = {<span class="ruby-value">userId:</span> <span class="ruby-value">1</span>, <span class="ruby-value">completed:</span> <span class="ruby-keyword">false</span>}
<span class="ruby-identifier">_uri</span>.<span class="ruby-identifier">query</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">encode_www_form</span>(<span class="ruby-identifier">params</span>)
<span class="ruby-identifier">_uri</span> <span class="ruby-comment"># =&gt; #&lt;URI::HTTPS https://jsonplaceholder.typicode.com?userId=1&amp;completed=false&gt;</span>
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">_uri</span>)
</pre>

<h3 id="class-Net::HTTP-label-Fragments">Fragments<span><a href="#class-Net::HTTP-label-Fragments">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>A <a href="https://en.wikipedia.org/wiki/URI_fragment">URI fragment</a> has no effect in Net::HTTP; the same data is returned, regardless of whether a fragment is included.</p>

<h2 id="class-Net::HTTP-label-Request+Headers">Request Headers<span><a href="#class-Net::HTTP-label-Request+Headers">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Request headers may be used to pass additional information to the host, similar to arguments passed in a method call; each header is a name/value pair.</p>

<p>Each of the Net::HTTP methods that sends a request to the host has optional argument <code>headers</code>, where the headers are expressed as a hash of field-name/value pairs:</p>

<pre class="ruby"><span class="ruby-identifier">headers</span> = {<span class="ruby-value">Accept:</span> <span class="ruby-string">&#39;application/json&#39;</span>, <span class="ruby-value">Connection:</span> <span class="ruby-string">&#39;Keep-Alive&#39;</span>}
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">headers</span>)
</pre>

<p>See lists of both standard request fields and common request fields at <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields#Request_fields">Request Fields</a>. A host may also accept other custom fields.</p>

<h2 id="class-Net::HTTP-label-Sessions">Sessions<span><a href="#class-Net::HTTP-label-Sessions">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>A <em>session</em> is a connection between a server (host) and a client that:</p>
<ul><li>
<p>Is begun by instance method <a href="HTTP.html#method-i-start"><code>Net::HTTP#start</code></a>.</p>
</li><li>
<p>May contain any number of requests.</p>
</li><li>
<p>Is ended by instance method <a href="HTTP.html#method-i-finish"><code>Net::HTTP#finish</code></a>.</p>
</li></ul>

<p>See example sessions at the <a href="HTTP.html#class-Net::HTTP-label-Synopsis">Synopsis</a>.</p>

<h3 id="class-Net::HTTP-label-Session+Using+Net-3A-3AHTTP.start">Session Using Net::HTTP.start<span><a href="#class-Net::HTTP-label-Session+Using+Net-3A-3AHTTP.start">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>If you have many requests to make to a single host (and port), consider using singleton method <a href="HTTP.html#method-c-start"><code>Net::HTTP.start</code></a> with a block; the method handles the session automatically by:</p>
<ul><li>
<p>Calling <a href="HTTP.html#method-i-start"><code>start</code></a> before block execution.</p>
</li><li>
<p>Executing the block.</p>
</li><li>
<p>Calling <a href="HTTP.html#method-i-finish"><code>finish</code></a> after block execution.</p>
</li></ul>

<p>In the block, you can use these instance methods, each of which that sends a single request:</p>
<ul><li>
<p><a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods">HTTP methods</a>:</p>
<ul><li>
<p><a href="HTTP.html#method-i-get"><code>get</code></a>, <a href="HTTP.html#method-i-request_get"><code>request_get</code></a>: GET.</p>
</li><li>
<p><a href="HTTP.html#method-i-head"><code>head</code></a>, <a href="HTTP.html#method-i-request_head"><code>request_head</code></a>: HEAD.</p>
</li><li>
<p><a href="HTTP.html#method-i-post"><code>post</code></a>, <a href="HTTP.html#method-i-request_post"><code>request_post</code></a>: POST.</p>
</li><li>
<p><a href="HTTP.html#method-i-delete"><code>delete</code></a>: DELETE.</p>
</li><li>
<p><a href="HTTP.html#method-i-options"><code>options</code></a>: OPTIONS.</p>
</li><li>
<p><a href="HTTP.html#method-i-trace"><code>trace</code></a>: TRACE.</p>
</li><li>
<p><a href="HTTP.html#method-i-patch"><code>patch</code></a>: PATCH.</p>
</li></ul>
</li><li>
<p><a href="https://en.wikipedia.org/wiki/WebDAV#Implementation">WebDAV methods</a>:</p>
<ul><li>
<p><a href="HTTP.html#method-i-copy"><code>copy</code></a>: COPY.</p>
</li><li>
<p><a href="HTTP.html#method-i-lock"><code>lock</code></a>: LOCK.</p>
</li><li>
<p><a href="HTTP.html#method-i-mkcol"><code>mkcol</code></a>: MKCOL.</p>
</li><li>
<p><a href="HTTP.html#method-i-move"><code>move</code></a>: MOVE.</p>
</li><li>
<p><a href="HTTP.html#method-i-propfind"><code>propfind</code></a>: PROPFIND.</p>
</li><li>
<p><a href="HTTP.html#method-i-proppatch"><code>proppatch</code></a>: PROPPATCH.</p>
</li><li>
<p><a href="HTTP.html#method-i-unlock"><code>unlock</code></a>: UNLOCK.</p>
</li></ul>
</li></ul>

<h3 id="class-Net::HTTP-label-Session+Using+Net-3A-3AHTTP.start+and+Net-3A-3AHTTP.finish">Session Using Net::HTTP.start and Net::HTTP.finish<span><a href="#class-Net::HTTP-label-Session+Using+Net-3A-3AHTTP.start+and+Net-3A-3AHTTP.finish">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>You can manage a session manually using methods <a href="HTTP.html#method-i-start"><code>start</code></a> and <a href="HTTP.html#method-i-finish"><code>finish</code></a>:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hostname</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">start</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/todos/1&#39;</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/todos/2&#39;</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&#39;/posts/1&#39;</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">finish</span> <span class="ruby-comment"># Needed to free resources.</span>
</pre>

<h3 id="class-Net::HTTP-label-Single-Request+Session">Single-Request Session<span><a href="#class-Net::HTTP-label-Single-Request+Session">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Certain convenience methods automatically handle a session by:</p>
<ul><li>
<p>Creating an HTTP object</p>
</li><li>
<p>Starting a session.</p>
</li><li>
<p>Sending a single request.</p>
</li><li>
<p>Finishing the session.</p>
</li><li>
<p>Destroying the object.</p>
</li></ul>

<p>Such methods that send GET requests:</p>
<ul><li>
<p><a href="HTTP.html#method-c-get"><code>::get</code></a>: Returns the string response body.</p>
</li><li>
<p><a href="HTTP.html#method-c-get_print"><code>::get_print</code></a>: Writes the string response body to $stdout.</p>
</li><li>
<p><a href="HTTP.html#method-c-get_response"><code>::get_response</code></a>: Returns a <a href="HTTPResponse.html"><code>Net::HTTPResponse</code></a> object.</p>
</li></ul>

<p>Such methods that send POST requests:</p>
<ul><li>
<p><a href="HTTP.html#method-c-post"><code>::post</code></a>: Posts data to the host.</p>
</li><li>
<p><a href="HTTP.html#method-c-post_form"><code>::post_form</code></a>: Posts form data to the host.</p>
</li></ul>

<h2 id="class-Net::HTTP-label-HTTP+Requests+and+Responses">HTTP Requests and Responses<span><a href="#class-Net::HTTP-label-HTTP+Requests+and+Responses">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Many of the methods above are convenience methods, each of which sends a request and returns a string without directly using Net::HTTPRequest and Net::HTTPResponse objects.</p>

<p>You can, however, directly create a request object, send the request, and retrieve the response object; see:</p>
<ul><li>
<p><a href="HTTPRequest.html"><code>Net::HTTPRequest</code></a>.</p>
</li><li>
<p><a href="HTTPResponse.html"><code>Net::HTTPResponse</code></a>.</p>
</li></ul>

<h2 id="class-Net::HTTP-label-Following+Redirection">Following Redirection<span><a href="#class-Net::HTTP-label-Following+Redirection">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Each <a href="HTTPResponse.html"><code>Net::HTTPResponse</code></a> object belongs to a class for its response code.</p>

<p>For example, all 2XX responses are instances of a <a href="HTTPSuccess.html"><code>Net::HTTPSuccess</code></a> subclass, a 3XX response is an instance of a <a href="HTTPRedirection.html"><code>Net::HTTPRedirection</code></a> subclass and a 200 response is an instance of the <a href="HTTPOK.html"><code>Net::HTTPOK</code></a> class.  For details of response classes, see the section “HTTP Response Classes” below.</p>

<p>Using a case statement you can handle various types of responses properly:</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">fetch</span>(<span class="ruby-identifier">uri_str</span>, <span class="ruby-identifier">limit</span> = <span class="ruby-value">10</span>)
  <span class="ruby-comment"># You should choose a better exception.</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&#39;too many HTTP redirects&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">limit</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>

  <span class="ruby-identifier">response</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get_response</span>(<span class="ruby-constant">URI</span>(<span class="ruby-identifier">uri_str</span>))

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">response</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPSuccess</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">response</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPRedirection</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">location</span> = <span class="ruby-identifier">response</span>[<span class="ruby-string">&#39;location&#39;</span>]
    <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;redirected to #{location}&quot;</span>
    <span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">location</span>, <span class="ruby-identifier">limit</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">response</span>.<span class="ruby-identifier">value</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">print</span> <span class="ruby-identifier">fetch</span>(<span class="ruby-string">&#39;http://www.ruby-lang.org&#39;</span>)
</pre>

<h2 id="class-Net::HTTP-label-Basic+Authentication">Basic Authentication<span><a href="#class-Net::HTTP-label-Basic+Authentication">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Basic authentication is performed according to [RFC2617](<a href="http://www.ietf.org/rfc/rfc2617.txt">www.ietf.org/rfc/rfc2617.txt</a>).</p>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;http://example.com/index.html?key=value&#39;</span>)

<span class="ruby-identifier">req</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span><span class="ruby-operator">::</span><span class="ruby-constant">Get</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">uri</span>)
<span class="ruby-identifier">req</span>.<span class="ruby-identifier">basic_auth</span> <span class="ruby-string">&#39;user&#39;</span>, <span class="ruby-string">&#39;pass&#39;</span>

<span class="ruby-identifier">res</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request</span>(<span class="ruby-identifier">req</span>)
}
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span>
</pre>

<h2 id="class-Net::HTTP-label-Streaming+Response+Bodies">Streaming Response Bodies<span><a href="#class-Net::HTTP-label-Streaming+Response+Bodies">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>By default <a href="HTTP.html"><code>Net::HTTP</code></a> reads an entire response into memory.  If you are handling large files or wish to implement a progress bar you can instead stream the body directly to an <a href="../IO.html"><code>IO</code></a>.</p>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;http://example.com/large_file&#39;</span>)

<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">host</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">request</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span><span class="ruby-operator">::</span><span class="ruby-constant">Get</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">uri</span>

  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request</span> <span class="ruby-identifier">request</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">response</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">open</span> <span class="ruby-string">&#39;large_file&#39;</span>, <span class="ruby-string">&#39;w&#39;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">response</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">chunk</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">io</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">chunk</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<h2 id="class-Net::HTTP-label-HTTPS">HTTPS<span><a href="#class-Net::HTTP-label-HTTPS">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>HTTPS is enabled for an <a href="HTTP.html"><code>HTTP</code></a> connection by <a href="HTTP.html#method-i-use_ssl-3D"><code>Net::HTTP#use_ssl=</code></a>.</p>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;https://secure.example.com/some_path?query=string&#39;</span>)

<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">host</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>, <span class="ruby-value">:use_ssl</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-keyword">true</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">request</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span><span class="ruby-operator">::</span><span class="ruby-constant">Get</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">uri</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request</span> <span class="ruby-identifier">request</span> <span class="ruby-comment"># Net::HTTPResponse object</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Or if you simply want to make a GET request, you may pass in an <a href="../URI.html"><code>URI</code></a> object that has an HTTPS URL. <a href="HTTP.html"><code>Net::HTTP</code></a> automatically turns on TLS verification if the <a href="../URI.html"><code>URI</code></a> object has a ‘https’ <a href="../URI.html"><code>URI</code></a> scheme.</p>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;https://example.com/&#39;</span>)
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">uri</span>) <span class="ruby-comment"># =&gt; String</span>
</pre>

<p>In previous versions of Ruby you would need to require ‘net/https’ to use HTTPS. This is no longer true.</p>

<h2 id="class-Net::HTTP-label-Proxies">Proxies<span><a href="#class-Net::HTTP-label-Proxies">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><a href="HTTP.html"><code>Net::HTTP</code></a> will automatically create a proxy from the <code>http_proxy</code> environment variable if it is present.  To disable use of <code>http_proxy</code>, pass <code>nil</code> for the proxy address.</p>

<p>You may also create a custom proxy:</p>

<pre class="ruby"><span class="ruby-identifier">proxy_addr</span> = <span class="ruby-string">&#39;your.proxy.host&#39;</span>
<span class="ruby-identifier">proxy_port</span> = <span class="ruby-value">8080</span>

<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;example.com&#39;</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">proxy_addr</span>, <span class="ruby-identifier">proxy_port</span>).<span class="ruby-identifier">start</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-comment"># always proxy via your.proxy.addr:8080</span>
}
</pre>

<p>See <a href="HTTP.html#method-c-new"><code>Net::HTTP.new</code></a> for further details and examples such as proxies that require a username and password.</p>

<h2 id="class-Net::HTTP-label-Compression">Compression<span><a href="#class-Net::HTTP-label-Compression">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><a href="HTTP.html"><code>Net::HTTP</code></a> automatically adds Accept-Encoding for compression of response bodies and automatically decompresses gzip and deflate responses unless a <a href="../Range.html"><code>Range</code></a> header was sent.</p>

<p>Compression can be disabled through the Accept-Encoding: identity header.</p>

  </section>

  <section id="5Buntitled-5D" class="documentation-section">


    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
        <dt id="SSL_ATTRIBUTES">SSL_ATTRIBUTES
        <dd>
        <dt id="SSL_IVNAMES">SSL_IVNAMES
        <dd>
        <dt id="STATUS_CODES">STATUS_CODES
        <dd>
      </dl>
    </section>

    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      <div id="attribute-c-proxy_address" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">proxy_address</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        <p>Address of proxy host. If <a href="HTTP.html"><code>Net::HTTP</code></a> does not use a proxy, nil.</p>
        </div>
      </div>
      <div id="attribute-c-proxy_pass" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">proxy_pass</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        <p>User password for accessing proxy. If <a href="HTTP.html"><code>Net::HTTP</code></a> does not use a proxy, nil.</p>
        </div>
      </div>
      <div id="attribute-c-proxy_port" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">proxy_port</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        <p>Port number of proxy host. If <a href="HTTP.html"><code>Net::HTTP</code></a> does not use a proxy, nil.</p>
        </div>
      </div>
      <div id="attribute-c-proxy_user" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">proxy_user</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        <p>User name for accessing proxy. If <a href="HTTP.html"><code>Net::HTTP</code></a> does not use a proxy, nil.</p>
        </div>
      </div>
      <div id="attribute-i-address" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">address</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        <p>The DNS host name or IP address to connect to.</p>
        </div>
      </div>
      <div id="attribute-i-ca_file" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">ca_file</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Sets path of a CA certification file in PEM format.</p>

<p>The file can contain several CA certificates.</p>
        </div>
      </div>
      <div id="attribute-i-ca_path" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">ca_path</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Sets path of a CA certification directory containing certifications in PEM format.</p>
        </div>
      </div>
      <div id="attribute-i-cert" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">cert</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Sets an <a href="../OpenSSL/X509/Certificate.html"><code>OpenSSL::X509::Certificate</code></a> object as client certificate. (This method is appeared in Michal Rokos’s <a href="../OpenSSL.html"><code>OpenSSL</code></a> extension).</p>
        </div>
      </div>
      <div id="attribute-i-cert_store" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">cert_store</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Sets the X509::Store to verify peer certificate.</p>
        </div>
      </div>
      <div id="attribute-i-ciphers" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">ciphers</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Sets the available ciphers.  See <a href="../OpenSSL/SSL/SSLContext.html#method-i-ciphers-3D"><code>OpenSSL::SSL::SSLContext#ciphers=</code></a></p>
        </div>
      </div>
      <div id="attribute-i-close_on_empty_response" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">close_on_empty_response</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        </div>
      </div>
      <div id="attribute-i-continue_timeout" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">continue_timeout</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        <p>Seconds to wait for 100 Continue response. If the <a href="HTTP.html"><code>HTTP</code></a> object does not receive a response in this many seconds it sends the request body. The default value is <code>nil</code>.</p>
        </div>
      </div>
      <div id="attribute-i-extra_chain_cert" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">extra_chain_cert</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Sets the extra X509 certificates to be added to the certificate chain. See <a href="../OpenSSL/SSL/SSLContext.html#attribute-i-extra_chain_cert"><code>OpenSSL::SSL::SSLContext#extra_chain_cert=</code></a></p>
        </div>
      </div>
      <div id="attribute-i-ignore_eof" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">ignore_eof</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Whether to ignore EOF when reading response bodies with defined Content-Length headers. For backwards compatibility, the default is true.</p>
        </div>
      </div>
      <div id="attribute-i-keep_alive_timeout" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">keep_alive_timeout</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Seconds to reuse the connection of the previous request. If the idle time is less than this Keep-Alive <a href="../Timeout.html"><code>Timeout</code></a>, <a href="HTTP.html"><code>Net::HTTP</code></a> reuses the TCP/IP socket used by the previous communication. The default value is 2 seconds.</p>
        </div>
      </div>
      <div id="attribute-i-key" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">key</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Sets an <a href="../OpenSSL/PKey/RSA.html"><code>OpenSSL::PKey::RSA</code></a> or <a href="../OpenSSL/PKey/DSA.html"><code>OpenSSL::PKey::DSA</code></a> object. (This method is appeared in Michal Rokos’s <a href="../OpenSSL.html"><code>OpenSSL</code></a> extension.)</p>
        </div>
      </div>
      <div id="attribute-i-local_host" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">local_host</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>The local host used to establish the connection.</p>
        </div>
      </div>
      <div id="attribute-i-local_port" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">local_port</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>The local port used to establish the connection.</p>
        </div>
      </div>
      <div id="attribute-i-max_retries" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">max_retries</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        </div>
      </div>
      <div id="attribute-i-max_version" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">max_version</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Sets the maximum SSL version.  See <a href="../OpenSSL/SSL/SSLContext.html#method-i-max_version-3D"><code>OpenSSL::SSL::SSLContext#max_version=</code></a></p>
        </div>
      </div>
      <div id="attribute-i-min_version" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">min_version</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Sets the minimum SSL version.  See <a href="../OpenSSL/SSL/SSLContext.html#method-i-min_version-3D"><code>OpenSSL::SSL::SSLContext#min_version=</code></a></p>
        </div>
      </div>
      <div id="attribute-i-open_timeout" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">open_timeout</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Number of seconds to wait for the connection to open. Any number may be used, including Floats for fractional seconds. If the <a href="HTTP.html"><code>HTTP</code></a> object cannot open a connection in this many seconds, it raises a <a href="OpenTimeout.html"><code>Net::OpenTimeout</code></a> exception. The default value is 60 seconds.</p>
        </div>
      </div>
      <div id="attribute-i-port" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">port</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        <p>The port number to connect to.</p>
        </div>
      </div>
      <div id="attribute-i-proxy_address" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">proxy_address</span><span
            class="attribute-access-type">[W]</span>
        </div>

        <div class="method-description">
        
        </div>
      </div>
      <div id="attribute-i-proxy_from_env" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">proxy_from_env</span><span
            class="attribute-access-type">[W]</span>
        </div>

        <div class="method-description">
        
        </div>
      </div>
      <div id="attribute-i-proxy_pass" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">proxy_pass</span><span
            class="attribute-access-type">[W]</span>
        </div>

        <div class="method-description">
        
        </div>
      </div>
      <div id="attribute-i-proxy_port" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">proxy_port</span><span
            class="attribute-access-type">[W]</span>
        </div>

        <div class="method-description">
        
        </div>
      </div>
      <div id="attribute-i-proxy_user" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">proxy_user</span><span
            class="attribute-access-type">[W]</span>
        </div>

        <div class="method-description">
        
        </div>
      </div>
      <div id="attribute-i-read_timeout" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">read_timeout</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        <p>Number of seconds to wait for one block to be read (via one read(2) call). Any number may be used, including Floats for fractional seconds. If the <a href="HTTP.html"><code>HTTP</code></a> object cannot read data in this many seconds, it raises a <a href="ReadTimeout.html"><code>Net::ReadTimeout</code></a> exception. The default value is 60 seconds.</p>
        </div>
      </div>
      <div id="attribute-i-response_body_encoding" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">response_body_encoding</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        <p>The encoding to use for the response body.  If <a href="../Encoding.html"><code>Encoding</code></a>, uses the specified encoding.  If other true value, tries to detect the response body encoding.</p>
        </div>
      </div>
      <div id="attribute-i-ssl_timeout" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">ssl_timeout</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Sets the SSL timeout seconds.</p>
        </div>
      </div>
      <div id="attribute-i-ssl_version" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">ssl_version</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Sets the SSL version.  See <a href="../OpenSSL/SSL/SSLContext.html#method-i-ssl_version-3D"><code>OpenSSL::SSL::SSLContext#ssl_version=</code></a></p>
        </div>
      </div>
      <div id="attribute-i-verify_callback" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">verify_callback</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Sets the verify callback for the server certification verification.</p>
        </div>
      </div>
      <div id="attribute-i-verify_depth" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">verify_depth</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Sets the maximum depth for the certificate chain verification.</p>
        </div>
      </div>
      <div id="attribute-i-verify_hostname" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">verify_hostname</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Sets to check the server certificate is valid for the hostname. See <a href="../OpenSSL/SSL/SSLContext.html#attribute-i-verify_hostname"><code>OpenSSL::SSL::SSLContext#verify_hostname=</code></a></p>
        </div>
      </div>
      <div id="attribute-i-verify_mode" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">verify_mode</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        <p>Sets the flags for server the certification verification at beginning of SSL/TLS session.</p>

<p>OpenSSL::SSL::VERIFY_NONE or OpenSSL::SSL::VERIFY_PEER are acceptable.</p>
        </div>
      </div>
      <div id="attribute-i-write_timeout" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">write_timeout</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        <p>Number of seconds to wait for one block to be written (via one write(2) call). Any number may be used, including Floats for fractional seconds. If the <a href="HTTP.html"><code>HTTP</code></a> object cannot write data in this many seconds, it raises a <a href="WriteTimeout.html"><code>Net::WriteTimeout</code></a> exception. The default value is 60 seconds. <a href="WriteTimeout.html"><code>Net::WriteTimeout</code></a> is not raised on Windows.</p>
        </div>
      </div>
    </section>


     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

      <div id="method-c-default_port" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">default_port</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Returns intger <code>80</code>, the default port to use for <a href="HTTP.html"><code>HTTP</code></a> requests:</p>

<pre class="ruby"><span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">default_port</span> <span class="ruby-comment"># =&gt; 80</span>
</pre>

          <div class="method-source-code" id="default_port-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 558</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier ruby-title">default_port</span>
  <span class="ruby-identifier">http_default_port</span>()
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-get" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-callseq">
              Net::HTTP.get(hostname, path, port = 80) &rarr; body
            </span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          <div class="method-heading">
            <span class="method-callseq">
              Net::HTTP:get(uri, headers = {}, port = uri.port) &rarr; body
            </span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends a GET request and returns the HTTP response body as a string.</p>

<p>With string arguments <code>hostname</code> and <code>path</code>:</p>

<pre class="ruby"><span class="ruby-identifier">hostname</span> = <span class="ruby-string">&#39;jsonplaceholder.typicode.com&#39;</span>
<span class="ruby-identifier">path</span> = <span class="ruby-string">&#39;/todos/1&#39;</span>
<span class="ruby-identifier">puts</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">path</span>)
</pre>

<p>Output:</p>

<pre class="ruby">{
  <span class="ruby-value">&quot;userId&quot;:</span> <span class="ruby-value">1</span>,
  <span class="ruby-value">&quot;id&quot;:</span> <span class="ruby-value">1</span>,
  <span class="ruby-value">&quot;title&quot;:</span> <span class="ruby-string">&quot;delectus aut autem&quot;</span>,
  <span class="ruby-value">&quot;completed&quot;:</span> <span class="ruby-keyword">false</span>
}
</pre>

<p>With <a href="../URI.html"><code>URI</code></a> object <code>uri</code> and optional hash argument <code>headers</code>:</p>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&#39;https://jsonplaceholder.typicode.com/todos/1&#39;</span>)
<span class="ruby-identifier">headers</span> = {<span class="ruby-string">&#39;Content-type&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&#39;application/json; charset=UTF-8&#39;</span>}
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">headers</span>)
</pre>

<p>Related:</p>
<ul><li>
<p><a href="HTTP/Get.html"><code>Net::HTTP::Get</code></a>: request class for HTTP method <code>GET</code>.</p>
</li><li>
<p><a href="HTTP.html#method-i-get"><code>Net::HTTP#get</code></a>: convenience method for HTTP method <code>GET</code>.</p>
</li></ul>

          <div class="method-source-code" id="get-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 460</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier ruby-title">get</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path_or_headers</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">get_response</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path_or_headers</span>, <span class="ruby-identifier">port</span>).<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-get_print" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-callseq">
              Net::HTTP.get_print(hostname, path, port = 80) &rarr; nil
            </span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          <div class="method-heading">
            <span class="method-callseq">
              Net::HTTP:get_print(uri, headers = {}, port = uri.port) &rarr; nil
            </span>
          </div>
        </div>

        <div class="method-description">
          <p>Like <a href="HTTP.html#method-c-get"><code>Net::HTTP.get</code></a>, but writes the returned body to $stdout; returns <code>nil</code>.</p>

          <div class="method-source-code" id="get_print-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 419</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier ruby-title">get_print</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path_or_headers</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">get_response</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path_or_headers</span>, <span class="ruby-identifier">port</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">res</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">res</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">chunk</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">print</span> <span class="ruby-identifier">chunk</span>
    <span class="ruby-keyword">end</span>
  }
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-get_response" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-callseq">
              Net::HTTP.get_response(hostname, path, port = 80) &rarr; http_response
            </span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          <div class="method-heading">
            <span class="method-callseq">
              Net::HTTP:get_response(uri, headers = {}, port = uri.port) &rarr; http_response
            </span>
          </div>
        </div>

        <div class="method-description">
          <p>Like <a href="HTTP.html#method-c-get"><code>Net::HTTP.get</code></a>, but returns a <a href="HTTPResponse.html"><code>Net::HTTPResponse</code></a> object instead of the body string.</p>

          <div class="method-source-code" id="get_response-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 470</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier ruby-title">get_response</span>(<span class="ruby-identifier">uri_or_host</span>, <span class="ruby-identifier">path_or_headers</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">path_or_headers</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">path_or_headers</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
    <span class="ruby-identifier">host</span> = <span class="ruby-identifier">uri_or_host</span>
    <span class="ruby-identifier">path</span> = <span class="ruby-identifier">path_or_headers</span>
    <span class="ruby-identifier">new</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span> <span class="ruby-operator">||</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">default_port</span>).<span class="ruby-identifier">start</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_get</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">uri</span> = <span class="ruby-identifier">uri_or_host</span>
    <span class="ruby-identifier">headers</span> = <span class="ruby-identifier">path_or_headers</span>
    <span class="ruby-identifier">start</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span>,
          <span class="ruby-value">:use_ssl</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">scheme</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;https&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_get</span>(<span class="ruby-identifier">uri</span>, <span class="ruby-identifier">headers</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-http_default_port" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">http_default_port</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Returns integer <code>80</code>, the default port to use for <a href="HTTP.html"><code>HTTP</code></a> requests:</p>

<pre class="ruby"><span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">http_default_port</span> <span class="ruby-comment"># =&gt; 80</span>
</pre>

          <div class="method-source-code" id="http_default_port-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 566</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier ruby-title">http_default_port</span>
  <span class="ruby-value">80</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-https_default_port" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">https_default_port</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Returns integer <code>443</code>, the default port to use for HTTPS requests:</p>

<pre class="ruby"><span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">https_default_port</span> <span class="ruby-comment"># =&gt; 443</span>
</pre>

          <div class="method-source-code" id="https_default_port-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 574</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier ruby-title">https_default_port</span>
  <span class="ruby-value">443</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-is_version_1_2-3F" class="method-detail method-alias">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">is_version_1_2?</span><span
              class="method-args">()</span>
          </div>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="HTTP.html#method-c-version_1_2-3F">version_1_2?</a>
        </div>
      </div>

      <div id="method-c-new" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">(address, port = nil, p_addr = :ENV, p_port = nil, p_user = nil, p_pass = nil, p_no_proxy = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Returns a new <a href="HTTP.html"><code>Net::HTTP</code></a> object <code>http</code> (but does not open a TCP connection or <a href="HTTP.html"><code>HTTP</code></a> session).</p>

<p><strong>No Proxy</strong></p>

<p>With only string argument <code>hostname</code> given (and <code>ENV[&#39;http_proxy&#39;]</code> undefined or <code>nil</code>), the returned <code>http</code>:</p>
<ul><li>
<p>Has the given address.</p>
</li><li>
<p>Has the default port number, <a href="HTTP.html#method-c-default_port"><code>Net::HTTP.default_port</code></a> (80).</p>
</li><li>
<p>Has no proxy.</p>
</li></ul>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hostname</span>)
<span class="ruby-comment"># =&gt; #&lt;Net::HTTP jsonplaceholder.typicode.com:80 open=false&gt;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">address</span> <span class="ruby-comment"># =&gt; &quot;jsonplaceholder.typicode.com&quot;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">port</span>    <span class="ruby-comment"># =&gt; 80</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy?</span>  <span class="ruby-comment"># =&gt; false</span>
</pre>

<p>With integer argument <code>port</code> also given, the returned <code>http</code> has the given port:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hostname</span>, <span class="ruby-value">8000</span>)
<span class="ruby-comment"># =&gt; #&lt;Net::HTTP jsonplaceholder.typicode.com:8000 open=false&gt;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">port</span> <span class="ruby-comment"># =&gt; 8000</span>
</pre>

<p><strong>Proxy Using Argument <code>p_addr</code> as a String</strong></p>

<p>When argument <code>p_addr</code> is a string hostname, the returned <code>http</code> has a proxy:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hostname</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;proxy.example&#39;</span>)
<span class="ruby-comment"># =&gt; #&lt;Net::HTTP jsonplaceholder.typicode.com:80 open=false&gt;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy?</span>        <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_address</span> <span class="ruby-comment"># =&gt; &quot;proxy.example&quot;</span>
<span class="ruby-comment"># These use default values.</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_port</span>    <span class="ruby-comment"># =&gt; 80</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_user</span>    <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_pass</span>    <span class="ruby-comment"># =&gt; nil</span>
</pre>

<p>The port, username, and password for the proxy may also be given:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hostname</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;proxy.example&#39;</span>, <span class="ruby-value">8000</span>, <span class="ruby-string">&#39;pname&#39;</span>, <span class="ruby-string">&#39;ppass&#39;</span>)
<span class="ruby-comment"># =&gt; #&lt;Net::HTTP jsonplaceholder.typicode.com:80 open=false&gt;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy?</span>        <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_address</span> <span class="ruby-comment"># =&gt; &quot;proxy.example&quot;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_port</span>    <span class="ruby-comment"># =&gt; 8000</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_user</span>    <span class="ruby-comment"># =&gt; &quot;pname&quot;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_pass</span>    <span class="ruby-comment"># =&gt; &quot;ppass&quot;</span>
</pre>

<p><strong>Proxy Using <code>ENV[&#39;http_proxy&#39;]</code></strong></p>

<p>When environment variable <code>&#39;http_proxy&#39;</code> is set to a URI string, the returned <code>http</code> will have that <a href="../URI.html"><code>URI</code></a> as its proxy; note that the URI string must have a protocol such as <code>&#39;http&#39;</code> or <code>&#39;https&#39;</code>:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;http_proxy&#39;</span>] = <span class="ruby-string">&#39;http://example.com&#39;</span>
<span class="ruby-comment"># =&gt; &quot;http://example.com&quot;</span>
<span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hostname</span>)
<span class="ruby-comment"># =&gt; #&lt;Net::HTTP jsonplaceholder.typicode.com:80 open=false&gt;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy?</span>        <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">address</span>       <span class="ruby-comment"># =&gt; &quot;jsonplaceholder.typicode.com&quot;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_address</span> <span class="ruby-comment"># =&gt; &quot;example.com&quot;</span>
</pre>

<p>The URI string may include proxy username, password, and port number:</p>

<pre class="ruby"><span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;http_proxy&#39;</span>] = <span class="ruby-string">&#39;http://pname:ppass@example.com:8000&#39;</span>
<span class="ruby-comment"># =&gt; &quot;http://pname:ppass@example.com:8000&quot;</span>
<span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hostname</span>)
<span class="ruby-comment"># =&gt; #&lt;Net::HTTP jsonplaceholder.typicode.com:80 open=false&gt;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_port</span> <span class="ruby-comment"># =&gt; 8000</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_user</span> <span class="ruby-comment"># =&gt; &quot;pname&quot;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_pass</span> <span class="ruby-comment"># =&gt; &quot;ppass&quot;</span>
</pre>

<p><strong>Argument <code>p_no_proxy</code></strong></p>

<p>You can use argument <code>p_no_proxy</code> to reject certain proxies:</p>
<ul><li>
<p>Reject a certain address:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;example.com&#39;</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;proxy.example&#39;</span>, <span class="ruby-value">8000</span>, <span class="ruby-string">&#39;pname&#39;</span>, <span class="ruby-string">&#39;ppass&#39;</span>, <span class="ruby-string">&#39;proxy.example&#39;</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_address</span> <span class="ruby-comment"># =&gt; nil</span>
</pre>
</li><li>
<p>Reject certain domains or subdomains:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;example.com&#39;</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;my.proxy.example&#39;</span>, <span class="ruby-value">8000</span>, <span class="ruby-string">&#39;pname&#39;</span>, <span class="ruby-string">&#39;ppass&#39;</span>, <span class="ruby-string">&#39;proxy.example&#39;</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_address</span> <span class="ruby-comment"># =&gt; nil</span>
</pre>
</li><li>
<p>Reject certain addresses and port combinations:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;example.com&#39;</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;proxy.example&#39;</span>, <span class="ruby-value">8000</span>, <span class="ruby-string">&#39;pname&#39;</span>, <span class="ruby-string">&#39;ppass&#39;</span>, <span class="ruby-string">&#39;proxy.example:1234&#39;</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_address</span> <span class="ruby-comment"># =&gt; &quot;proxy.example&quot;</span>

<span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;example.com&#39;</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;proxy.example&#39;</span>, <span class="ruby-value">8000</span>, <span class="ruby-string">&#39;pname&#39;</span>, <span class="ruby-string">&#39;ppass&#39;</span>, <span class="ruby-string">&#39;proxy.example:8000&#39;</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_address</span> <span class="ruby-comment"># =&gt; nil</span>
</pre>
</li><li>
<p>Reject a list of the types above delimited using a comma:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;example.com&#39;</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;proxy.example&#39;</span>, <span class="ruby-value">8000</span>, <span class="ruby-string">&#39;pname&#39;</span>, <span class="ruby-string">&#39;ppass&#39;</span>, <span class="ruby-string">&#39;my.proxy,proxy.example:8000&#39;</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_address</span> <span class="ruby-comment"># =&gt; nil</span>

<span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;example.com&#39;</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-string">&#39;my.proxy&#39;</span>, <span class="ruby-value">8000</span>, <span class="ruby-string">&#39;pname&#39;</span>, <span class="ruby-string">&#39;ppass&#39;</span>, <span class="ruby-string">&#39;my.proxy,proxy.example:8000&#39;</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_address</span> <span class="ruby-comment"># =&gt; nil</span>
</pre>
</li></ul>
            <div class="method-calls-super">
              Calls superclass method
              
            </div>

          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 802</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier ruby-title">new</span>(<span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">p_addr</span> = <span class="ruby-value">:ENV</span>, <span class="ruby-identifier">p_port</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">p_user</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">p_pass</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">p_no_proxy</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">http</span> = <span class="ruby-keyword">super</span> <span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy_class?</span> <span class="ruby-keyword">then</span> <span class="ruby-comment"># from Net::HTTP::Proxy()</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_from_env</span> = <span class="ruby-ivar">@proxy_from_env</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_address</span>  = <span class="ruby-ivar">@proxy_address</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_port</span>     = <span class="ruby-ivar">@proxy_port</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_user</span>     = <span class="ruby-ivar">@proxy_user</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_pass</span>     = <span class="ruby-ivar">@proxy_pass</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">p_addr</span> <span class="ruby-operator">==</span> <span class="ruby-value">:ENV</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_from_env</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">p_addr</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">p_no_proxy</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span>.<span class="ruby-identifier">use_proxy?</span>(<span class="ruby-identifier">p_addr</span>, <span class="ruby-identifier">p_addr</span>, <span class="ruby-identifier">p_port</span>, <span class="ruby-identifier">p_no_proxy</span>)
      <span class="ruby-identifier">p_addr</span> = <span class="ruby-keyword">nil</span>
      <span class="ruby-identifier">p_port</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_address</span> = <span class="ruby-identifier">p_addr</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_port</span>    = <span class="ruby-identifier">p_port</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_port</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_user</span>    = <span class="ruby-identifier">p_user</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">proxy_pass</span>    = <span class="ruby-identifier">p_pass</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">http</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="HTTP.html#method-c-newobj">newobj</a>
        </div>

      </div>

      <div id="method-c-new" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">(address, port = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Creates a new <a href="HTTP.html"><code>Net::HTTP</code></a> object for the specified server address, without opening the TCP connection or initializing the <a href="HTTP.html"><code>HTTP</code></a> session. The <code>address</code> should be a DNS hostname or IP address.</p>

          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 830</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>(<span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-ivar">@address</span> = <span class="ruby-identifier">address</span>
  <span class="ruby-ivar">@port</span>    = (<span class="ruby-identifier">port</span> <span class="ruby-operator">||</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">default_port</span>)
  <span class="ruby-ivar">@ipaddr</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@local_host</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@local_port</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@curr_http_version</span> = <span class="ruby-constant">HTTPVersion</span>
  <span class="ruby-ivar">@keep_alive_timeout</span> = <span class="ruby-value">2</span>
  <span class="ruby-ivar">@last_communicated</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@close_on_empty_response</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@socket</span>  = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@started</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@open_timeout</span> = <span class="ruby-value">60</span>
  <span class="ruby-ivar">@read_timeout</span> = <span class="ruby-value">60</span>
  <span class="ruby-ivar">@write_timeout</span> = <span class="ruby-value">60</span>
  <span class="ruby-ivar">@continue_timeout</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@max_retries</span> = <span class="ruby-value">1</span>
  <span class="ruby-ivar">@debug_output</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@response_body_encoding</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@ignore_eof</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-ivar">@proxy_from_env</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@proxy_uri</span>      = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@proxy_address</span>  = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@proxy_port</span>     = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@proxy_user</span>     = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@proxy_pass</span>     = <span class="ruby-keyword">nil</span>

  <span class="ruby-ivar">@use_ssl</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@ssl_context</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@ssl_session</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@sspi_enabled</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-constant">SSL_IVNAMES</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ivname</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">instance_variable_set</span> <span class="ruby-identifier">ivname</span>, <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-newobj" class="method-detail method-alias">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">newobj</span><span
              class="method-args">(address, port = nil, p_addr = :ENV, p_port = nil, p_user = nil, p_pass = nil, p_no_proxy = nil)</span>
          </div>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="HTTP.html#method-c-new">new</a>
        </div>
      </div>

      <div id="method-c-post" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">post</span><span
              class="method-args">(url, data, header = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Posts data to a host; returns a <a href="HTTPResponse.html"><code>Net::HTTPResponse</code></a> object.</p>

<p>Argument <code>url</code> must be a URL; argument <code>data</code> must be a string:</p>

<pre class="ruby"><span class="ruby-identifier">_uri</span> = <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">dup</span>
<span class="ruby-identifier">_uri</span>.<span class="ruby-identifier">path</span> = <span class="ruby-string">&#39;/posts&#39;</span>
<span class="ruby-identifier">data</span> = <span class="ruby-string">&#39;{&quot;title&quot;: &quot;foo&quot;, &quot;body&quot;: &quot;bar&quot;, &quot;userId&quot;: 1}&#39;</span>
<span class="ruby-identifier">headers</span> = {<span class="ruby-value">&#39;content-type&#39;:</span> <span class="ruby-string">&#39;application/json&#39;</span>}
<span class="ruby-identifier">res</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">post</span>(<span class="ruby-identifier">_uri</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">headers</span>) <span class="ruby-comment"># =&gt; #&lt;Net::HTTPCreated 201 Created readbody=true&gt;</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span>
</pre>

<p>Output:</p>

<pre class="ruby">{
  <span class="ruby-value">&quot;title&quot;:</span> <span class="ruby-string">&quot;foo&quot;</span>,
  <span class="ruby-value">&quot;body&quot;:</span> <span class="ruby-string">&quot;bar&quot;</span>,
  <span class="ruby-value">&quot;userId&quot;:</span> <span class="ruby-value">1</span>,
  <span class="ruby-value">&quot;id&quot;:</span> <span class="ruby-value">101</span>
}
</pre>

<p>Related:</p>
<ul><li>
<p><a href="HTTP/Post.html"><code>Net::HTTP::Post</code></a>: request class for HTTP method <code>POST</code>.</p>
</li><li>
<p><a href="HTTP.html#method-i-post"><code>Net::HTTP#post</code></a>: convenience method for HTTP method <code>POST</code>.</p>
</li></ul>

          <div class="method-source-code" id="post-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 513</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier ruby-title">post</span>(<span class="ruby-identifier">url</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">header</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">start</span>(<span class="ruby-identifier">url</span>.<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">url</span>.<span class="ruby-identifier">port</span>,
        <span class="ruby-value">:use_ssl</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">scheme</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;https&#39;</span> ) {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">post</span>(<span class="ruby-identifier">url</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">header</span>)
  }
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-post_form" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">post_form</span><span
              class="method-args">(url, params)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Posts data to a host; returns a <a href="HTTPResponse.html"><code>Net::HTTPResponse</code></a> object.</p>

<p>Argument <code>url</code> must be a <a href="../URI.html"><code>URI</code></a>; argument <code>data</code> must be a hash:</p>

<pre class="ruby"><span class="ruby-identifier">_uri</span> = <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">dup</span>
<span class="ruby-identifier">_uri</span>.<span class="ruby-identifier">path</span> = <span class="ruby-string">&#39;/posts&#39;</span>
<span class="ruby-identifier">data</span> = {<span class="ruby-value">title:</span> <span class="ruby-string">&#39;foo&#39;</span>, <span class="ruby-value">body:</span> <span class="ruby-string">&#39;bar&#39;</span>, <span class="ruby-value">userId:</span> <span class="ruby-value">1</span>}
<span class="ruby-identifier">res</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">post_form</span>(<span class="ruby-identifier">_uri</span>, <span class="ruby-identifier">data</span>) <span class="ruby-comment"># =&gt; #&lt;Net::HTTPCreated 201 Created readbody=true&gt;</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span>
</pre>

<p>Output:</p>

<pre class="ruby">{
  <span class="ruby-value">&quot;title&quot;:</span> <span class="ruby-string">&quot;foo&quot;</span>,
  <span class="ruby-value">&quot;body&quot;:</span> <span class="ruby-string">&quot;bar&quot;</span>,
  <span class="ruby-value">&quot;userId&quot;:</span> <span class="ruby-string">&quot;1&quot;</span>,
  <span class="ruby-value">&quot;id&quot;:</span> <span class="ruby-value">101</span>
}
</pre>

          <div class="method-source-code" id="post_form-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 540</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier ruby-title">post_form</span>(<span class="ruby-identifier">url</span>, <span class="ruby-identifier">params</span>)
  <span class="ruby-identifier">req</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">url</span>)
  <span class="ruby-identifier">req</span>.<span class="ruby-identifier">form_data</span> = <span class="ruby-identifier">params</span>
  <span class="ruby-identifier">req</span>.<span class="ruby-identifier">basic_auth</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">user</span>, <span class="ruby-identifier">url</span>.<span class="ruby-identifier">password</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">user</span>
  <span class="ruby-identifier">start</span>(<span class="ruby-identifier">url</span>.<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">url</span>.<span class="ruby-identifier">port</span>,
        <span class="ruby-value">:use_ssl</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">url</span>.<span class="ruby-identifier">scheme</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;https&#39;</span> ) {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request</span>(<span class="ruby-identifier">req</span>)
  }
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-proxy_class-3F" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">proxy_class?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>returns true if self is a class which was created by HTTP::Proxy.</p>

          <div class="method-source-code" id="proxy_class-3F-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1423</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">proxy_class?</span>
  <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@is_proxy_class</span>) <span class="ruby-operator">?</span> <span class="ruby-ivar">@is_proxy_class</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-start" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-callseq">
              start(address, port = nil, p_addr = :ENV, p_port = nil, p_user = nil, p_pass = nil, opts) &rarr; http
            </span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          <div class="method-heading">
            <span class="method-callseq">
              start(address, port = nil, p_addr = :ENV, p_port = nil, p_user = nil, p_pass = nil, opts) {|http| ... } &rarr; object
            </span>
          </div>
        </div>

        <div class="method-description">
          <p>Creates a new Net::HTTP object, <code>http</code>, via Net::HTTP.new:</p>

<pre class="ruby"><span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">p_addr</span>, <span class="ruby-identifier">p_port</span>, <span class="ruby-identifier">p_user</span>, <span class="ruby-identifier">p_pass</span>)
</pre>
<ul><li>
<p>For arguments <code>hostname</code> through <code>p_pass</code>, see <a href="HTTP.html#method-c-new"><code>Net::HTTP.new</code></a>.</p>
</li><li>
<p>For argument <code>opts</code>, see below.</p>
</li></ul>

<p>Note: If <code>port</code> is <code>nil</code> and <code>opts[:use_ssl]</code> is a truthy value, the value passed to <code>new</code> is <a href="HTTP.html#method-c-https_default_port"><code>Net::HTTP.https_default_port</code></a>, not <code>port</code>.</p>

<p>With no block given:</p>
<ul><li>
<p>Calls <code>http.start</code> with no block (see <a href="HTTP.html#method-i-start"><code>start</code></a>), which opens a TCP connection and HTTP session.</p>
</li><li>
<p>Returns <code>http</code>.</p>
</li><li>
<p>The caller should call <a href="HTTP.html#method-i-finish"><code>finish</code></a> to close the session:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">hostname</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">started?</span> <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">finish</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">started?</span> <span class="ruby-comment"># =&gt; false</span>
</pre>
</li></ul>

<p>With a block given:</p>
<ul><li>
<p>Calls <code>http.start</code> with the block (see <a href="HTTP.html#method-i-start"><code>start</code></a>), which:</p>
<ul><li>
<p>Opens a TCP connection and HTTP session.</p>
</li><li>
<p>Calls the block, which may make any number of requests to the host.</p>
</li><li>
<p>Closes the HTTP session and TCP connection on block exit.</p>
</li><li>
<p>Returns the block’s value <code>object</code>.</p>
</li></ul>
</li><li>
<p>Returns <code>object</code>.</p>
</li></ul>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">hostname</span> = <span class="ruby-string">&#39;jsonplaceholder.typicode.com&#39;</span>
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-identifier">hostname</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">http</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/todos/1&#39;</span>).<span class="ruby-identifier">body</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">http</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/todos/2&#39;</span>).<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Output:</p>

<pre class="ruby">{
  <span class="ruby-value">&quot;userId&quot;:</span> <span class="ruby-value">1</span>,
  <span class="ruby-value">&quot;id&quot;:</span> <span class="ruby-value">1</span>,
  <span class="ruby-value">&quot;title&quot;:</span> <span class="ruby-string">&quot;delectus aut autem&quot;</span>,
  <span class="ruby-value">&quot;completed&quot;:</span> <span class="ruby-keyword">false</span>
}
{
  <span class="ruby-value">&quot;userId&quot;:</span> <span class="ruby-value">1</span>,
  <span class="ruby-value">&quot;id&quot;:</span> <span class="ruby-value">2</span>,
  <span class="ruby-value">&quot;title&quot;:</span> <span class="ruby-string">&quot;quis ut nam facilis et officia qui&quot;</span>,
  <span class="ruby-value">&quot;completed&quot;:</span> <span class="ruby-keyword">false</span>
}
</pre>

<p>If the last argument given is a hash, it is the <code>opts</code> hash, where each key is a method or accessor to be called, and its value is the value to be set.</p>

<p>The keys may include:</p>
<ul><li>
<p><a href="HTTP.html#attribute-i-ca_file"><code>ca_file</code></a></p>
</li><li>
<p><a href="HTTP.html#attribute-i-ca_path"><code>ca_path</code></a></p>
</li><li>
<p><a href="HTTP.html#attribute-i-cert"><code>cert</code></a></p>
</li><li>
<p><a href="HTTP.html#attribute-i-cert_store"><code>cert_store</code></a></p>
</li><li>
<p><a href="HTTP.html#attribute-i-ciphers"><code>ciphers</code></a></p>
</li><li>
<p><a href="HTTP.html#attribute-i-close_on_empty_response"><code>close_on_empty_response</code></a></p>
</li><li>
<p><code>ipaddr</code> (calls <a href="HTTP.html#method-i-ipaddr-3D"><code>ipaddr=</code></a>)</p>
</li><li>
<p><a href="HTTP.html#attribute-i-keep_alive_timeout"><code>keep_alive_timeout</code></a></p>
</li><li>
<p><a href="HTTP.html#attribute-i-key"><code>key</code></a></p>
</li><li>
<p><a href="HTTP.html#attribute-i-open_timeout"><code>open_timeout</code></a></p>
</li><li>
<p><a href="HTTP.html#attribute-i-read_timeout"><code>read_timeout</code></a></p>
</li><li>
<p><a href="HTTP.html#attribute-i-ssl_timeout"><code>ssl_timeout</code></a></p>
</li><li>
<p><a href="HTTP.html#attribute-i-ssl_version"><code>ssl_version</code></a></p>
</li><li>
<p><code>use_ssl</code> (calls <a href="HTTP.html#method-i-use_ssl-3D"><code>use_ssl=</code></a>)</p>
</li><li>
<p><a href="HTTP.html#attribute-i-verify_callback"><code>verify_callback</code></a></p>
</li><li>
<p><a href="HTTP.html#attribute-i-verify_depth"><code>verify_depth</code></a></p>
</li><li>
<p><a href="HTTP.html#attribute-i-verify_mode"><code>verify_mode</code></a></p>
</li><li>
<p><a href="HTTP.html#attribute-i-write_timeout"><code>write_timeout</code></a></p>
</li></ul>

          <div class="method-source-code" id="start-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 668</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier ruby-title">start</span>(<span class="ruby-identifier">address</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: +http+</span>
  <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">pop</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">opt</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">try_convert</span>(<span class="ruby-identifier">arg</span>[<span class="ruby-value">-1</span>])
  <span class="ruby-identifier">port</span>, <span class="ruby-identifier">p_addr</span>, <span class="ruby-identifier">p_port</span>, <span class="ruby-identifier">p_user</span>, <span class="ruby-identifier">p_pass</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">arg</span>
  <span class="ruby-identifier">p_addr</span> = <span class="ruby-value">:ENV</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">2</span>
  <span class="ruby-identifier">port</span> = <span class="ruby-identifier">https_default_port</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">port</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">opt</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">opt</span>[<span class="ruby-value">:use_ssl</span>]
  <span class="ruby-identifier">http</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">p_addr</span>, <span class="ruby-identifier">p_port</span>, <span class="ruby-identifier">p_user</span>, <span class="ruby-identifier">p_pass</span>)
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">ipaddr</span> = <span class="ruby-identifier">opt</span>[<span class="ruby-value">:ipaddr</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">opt</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">opt</span>[<span class="ruby-value">:ipaddr</span>]

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">opt</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">opt</span>[<span class="ruby-value">:use_ssl</span>]
      <span class="ruby-identifier">opt</span> = {<span class="ruby-value">verify_mode:</span> <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">VERIFY_PEER</span>}.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">opt</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">http</span>.<span class="ruby-identifier">methods</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-regexp">/\A(\w+)=\z/</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">meth</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">key</span> = <span class="ruby-node">$1</span>.<span class="ruby-identifier">to_sym</span>
      <span class="ruby-identifier">opt</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">key</span>) <span class="ruby-keyword">or</span> <span class="ruby-keyword">next</span>
      <span class="ruby-identifier">http</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">key</span>])
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">start</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-version_1_2" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">version_1_2</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Returns <code>true</code>; retained for compatibility.</p>

          <div class="method-source-code" id="version_1_2-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 394</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier ruby-title">version_1_2</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-c-version_1_2-3F" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">version_1_2?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Returns <code>true</code>; retained for compatibility.</p>

          <div class="method-source-code" id="version_1_2-3F-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 399</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier ruby-title">version_1_2?</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="HTTP.html#method-c-is_version_1_2-3F">is_version_1_2?</a>
        </div>

      </div>

    </section>

     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

      <div id="method-i-active-3F" class="method-detail method-alias">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">active?</span><span
              class="method-args">()</span>
          </div>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="HTTP.html#method-i-started-3F">started?</a>
        </div>
      </div>

      <div id="method-i-continue_timeout-3D" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">continue_timeout=</span><span
              class="method-args">(sec)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Setter for the <a href="HTTP.html#attribute-i-continue_timeout"><code>continue_timeout</code></a> attribute.</p>

          <div class="method-source-code" id="continue_timeout-3D-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1085</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">continue_timeout=</span>(<span class="ruby-identifier">sec</span>)
  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">continue_timeout</span> = <span class="ruby-identifier">sec</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span>
  <span class="ruby-ivar">@continue_timeout</span> = <span class="ruby-identifier">sec</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-copy" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">copy</span><span
              class="method-args">(path, initheader = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends a COPY request to the <code>path</code> and gets a response, as an <a href="HTTPResponse.html"><code>HTTPResponse</code></a> object.</p>

          <div class="method-source-code" id="copy-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1685</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">copy</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Copy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-delete" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">delete</span><span
              class="method-args">(path, initheader = {&#39;Depth&#39; =&gt; &#39;Infinity&#39;})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends a DELETE request to the <code>path</code> and gets a response, as an <a href="HTTPResponse.html"><code>HTTPResponse</code></a> object.</p>

          <div class="method-source-code" id="delete-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1673</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">delete</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = {<span class="ruby-string">&#39;Depth&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&#39;Infinity&#39;</span>})
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Delete</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-finish" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">finish</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Finishes the <a href="HTTP.html"><code>HTTP</code></a> session and closes the TCP connection. Raises <a href="../IOError.html"><code>IOError</code></a> if the session has not been started.</p>

          <div class="method-source-code" id="finish-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1369</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">finish</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">IOError</span>, <span class="ruby-string">&#39;HTTP session not yet started&#39;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">started?</span>
  <span class="ruby-identifier">do_finish</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-get" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">get</span><span
              class="method-args">(path, initheader = nil, dest = nil) { |body_segment| ... }</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Retrieves data from <code>path</code> on the connected-to host which may be an absolute path <a href="../String.html"><code>String</code></a> or a <a href="../URI.html"><code>URI</code></a> to extract the path from.</p>

<p><code>initheader</code> must be a <a href="../Hash.html"><code>Hash</code></a> like { ‘Accept’ =&gt; ‘<strong>/</strong>’, … }, and it defaults to an empty hash. If <code>initheader</code> doesn’t have the key ‘accept-encoding’, then a value of “gzip;q=1.0,deflate;q=0.6,identity;q=0.3” is used, so that gzip compression is used in preference to deflate compression, which is used in preference to no compression. Ruby doesn’t have libraries to support the compress (Lempel-Ziv) compression, so that is not supported.  The intent of this is to reduce bandwidth by default.   If this routine sets up compression, then it does the decompression also, removing the header as well to prevent confusion.  Otherwise it leaves the body as it found it.</p>

<p>This method returns a <a href="HTTPResponse.html"><code>Net::HTTPResponse</code></a> object.</p>

<p>If called with a block, yields each fragment of the entity body in turn as a string as it is read from the socket.  Note that in this case, the returned response object will <strong>not</strong> contain a (meaningful) body.</p>

<p><code>dest</code> argument is obsolete. It still works but you must not use it.</p>

<p>This method never raises an exception.</p>

<pre class="ruby"><span class="ruby-identifier">response</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/index.html&#39;</span>)

<span class="ruby-comment"># using block</span>
<span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-string">&#39;result.txt&#39;</span>, <span class="ruby-string">&#39;w&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/~foo/&#39;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">str</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">str</span>
  <span class="ruby-keyword">end</span>
}
</pre>

          <div class="method-source-code" id="get-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1573</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">get</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">dest</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: +body_segment+</span>
  <span class="ruby-identifier">res</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Get</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>)) {<span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">r</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-identifier">dest</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
    <span class="ruby-identifier">res</span> = <span class="ruby-identifier">r</span>
  }
  <span class="ruby-identifier">res</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-get2" class="method-detail method-alias">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">get2</span><span
              class="method-args">(path, initheader = nil)</span>
          </div>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="HTTP.html#method-i-request_get">request_get</a>
        </div>
      </div>

      <div id="method-i-head" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">head</span><span
              class="method-args">(path, initheader = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Gets only the header from <code>path</code> on the connected-to host. <code>header</code> is a <a href="../Hash.html"><code>Hash</code></a> like { ‘Accept’ =&gt; ‘<strong>/</strong>’, … }.</p>

<p>This method returns a <a href="HTTPResponse.html"><code>Net::HTTPResponse</code></a> object.</p>

<p>This method never raises an exception.</p>

<pre class="ruby"><span class="ruby-identifier">response</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">start</span>(<span class="ruby-string">&#39;some.www.server&#39;</span>, <span class="ruby-value">80</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">http</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">head</span>(<span class="ruby-string">&#39;/index.html&#39;</span>)
}
<span class="ruby-identifier">p</span> <span class="ruby-identifier">response</span>[<span class="ruby-string">&#39;content-type&#39;</span>]
</pre>

          <div class="method-source-code" id="head-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1595</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">head</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Head</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-head2" class="method-detail method-alias">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">head2</span><span
              class="method-args">(path, initheader = nil, &amp;block)</span>
          </div>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="HTTP.html#method-i-request_head">request_head</a>
        </div>
      </div>

      <div id="method-i-inspect" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">inspect</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Returns a string representation of <code>self</code>:</p>

<pre class="ruby"><span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hostname</span>).<span class="ruby-identifier">inspect</span>
<span class="ruby-comment"># =&gt; &quot;#&lt;Net::HTTP jsonplaceholder.typicode.com:80 open=false&gt;&quot;</span>
</pre>

          <div class="method-source-code" id="inspect-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 872</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">inspect</span>
  <span class="ruby-node">&quot;#&lt;#{self.class} #{@address}:#{@port} open=#{started?}&gt;&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-ipaddr" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">ipaddr</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Returns the IP address for the connection.</p>

<p>If the session has not been started, returns the value set by <a href="HTTP.html#method-i-ipaddr-3D"><code>ipaddr=</code></a>, or <code>nil</code> if it has not been set:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hostname</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">ipaddr</span> <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">ipaddr</span> = <span class="ruby-string">&#39;172.67.155.76&#39;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">ipaddr</span> <span class="ruby-comment"># =&gt; &quot;172.67.155.76&quot;</span>
</pre>

<p>If the session has been started, returns the IP address from the socket:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hostname</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">start</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">ipaddr</span> <span class="ruby-comment"># =&gt; &quot;172.67.155.76&quot;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">finish</span>
</pre>

          <div class="method-source-code" id="ipaddr-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 995</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">ipaddr</span>
  <span class="ruby-identifier">started?</span> <span class="ruby-operator">?</span>  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">io</span>.<span class="ruby-identifier">peeraddr</span>[<span class="ruby-value">3</span>] <span class="ruby-operator">:</span> <span class="ruby-ivar">@ipaddr</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-ipaddr-3D" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">ipaddr=</span><span
              class="method-args">(addr)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sets the IP address for the connection:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hostname</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">ipaddr</span> <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">ipaddr</span> = <span class="ruby-string">&#39;172.67.155.76&#39;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">ipaddr</span> <span class="ruby-comment"># =&gt; &quot;172.67.155.76&quot;</span>
</pre>

<p>The IP address may not be set if the session has been started.</p>

          <div class="method-source-code" id="ipaddr-3D-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1007</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">ipaddr=</span>(<span class="ruby-identifier">addr</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">IOError</span>, <span class="ruby-string">&quot;ipaddr value changed, but session already started&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">started?</span>
  <span class="ruby-ivar">@ipaddr</span> = <span class="ruby-identifier">addr</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-lock" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">lock</span><span
              class="method-args">(path, body, initheader = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends a LOCK request to the <code>path</code> and gets a response, as an <a href="HTTPResponse.html"><code>HTTPResponse</code></a> object.</p>

          <div class="method-source-code" id="lock-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1649</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">lock</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Lock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-max_retries-3D" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">max_retries=</span><span
              class="method-args">(retries)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sets the maximum number of times to retry an idempotent request in case of <a href="ReadTimeout.html"><code>Net::ReadTimeout</code></a>, <a href="../IOError.html"><code>IOError</code></a>, <a href="../EOFError.html"><code>EOFError</code></a>, Errno::ECONNRESET, Errno::ECONNABORTED, Errno::EPIPE, <a href="../OpenSSL/SSL/SSLError.html"><code>OpenSSL::SSL::SSLError</code></a>, <a href="../Timeout/Error.html"><code>Timeout::Error</code></a>. The initial value is 1.</p>

<p>Argument <code>retries</code> must be a non-negative numeric value:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hostname</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">max_retries</span> = <span class="ruby-value">2</span>   <span class="ruby-comment"># =&gt; 2</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">max_retries</span>       <span class="ruby-comment"># =&gt; 2</span>
</pre>

          <div class="method-source-code" id="max_retries-3D-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1043</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">max_retries=</span>(<span class="ruby-identifier">retries</span>)
  <span class="ruby-identifier">retries</span> = <span class="ruby-identifier">retries</span>.<span class="ruby-identifier">to_int</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">retries</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&#39;max_retries should be non-negative integer number&#39;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@max_retries</span> = <span class="ruby-identifier">retries</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-mkcol" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">mkcol</span><span
              class="method-args">(path, body = nil, initheader = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends a MKCOL request to the <code>path</code> and gets a response, as an <a href="HTTPResponse.html"><code>HTTPResponse</code></a> object.</p>

          <div class="method-source-code" id="mkcol-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1691</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">mkcol</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Mkcol</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-move" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">move</span><span
              class="method-args">(path, initheader = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends a MOVE request to the <code>path</code> and gets a response, as an <a href="HTTPResponse.html"><code>HTTPResponse</code></a> object.</p>

          <div class="method-source-code" id="move-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1679</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">move</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Move</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-options" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">options</span><span
              class="method-args">(path, initheader = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends a OPTIONS request to the <code>path</code> and gets a response, as an <a href="HTTPResponse.html"><code>HTTPResponse</code></a> object.</p>

          <div class="method-source-code" id="options-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1661</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">options</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Options</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-patch" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">patch</span><span
              class="method-args">(path, data, initheader = nil, dest = nil) { |body_segment| ... }</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends a PATCH request to the <code>path</code> and gets a response, as an <a href="HTTPResponse.html"><code>HTTPResponse</code></a> object.</p>

          <div class="method-source-code" id="patch-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1633</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">patch</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">dest</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: +body_segment+</span>
  <span class="ruby-identifier">send_entity</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-constant">Patch</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-peer_cert" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">peer_cert</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Returns the X.509 certificates the server presented.</p>

          <div class="method-source-code" id="peer_cert-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1217</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">peer_cert</span>
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">use_ssl?</span> <span class="ruby-keyword">or</span> <span class="ruby-keyword">not</span> <span class="ruby-ivar">@socket</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">io</span>.<span class="ruby-identifier">peer_cert</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-post" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">post</span><span
              class="method-args">(path, data, initheader = nil, dest = nil) { |body_segment| ... }</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Posts <code>data</code> (must be a <a href="../String.html"><code>String</code></a>) to <code>path</code>. <code>header</code> must be a <a href="../Hash.html"><code>Hash</code></a> like { ‘Accept’ =&gt; ‘<strong>/</strong>’, … }.</p>

<p>This method returns a <a href="HTTPResponse.html"><code>Net::HTTPResponse</code></a> object.</p>

<p>If called with a block, yields each fragment of the entity body in turn as a string as it is read from the socket.  Note that in this case, the returned response object will <strong>not</strong> contain a (meaningful) body.</p>

<p><code>dest</code> argument is obsolete. It still works but you must not use it.</p>

<p>This method never raises exception.</p>

<pre class="ruby"><span class="ruby-identifier">response</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">post</span>(<span class="ruby-string">&#39;/cgi-bin/search.rb&#39;</span>, <span class="ruby-string">&#39;query=foo&#39;</span>)

<span class="ruby-comment"># using block</span>
<span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-string">&#39;result.txt&#39;</span>, <span class="ruby-string">&#39;w&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">post</span>(<span class="ruby-string">&#39;/cgi-bin/search.rb&#39;</span>, <span class="ruby-string">&#39;query=foo&#39;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">str</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">str</span>
  <span class="ruby-keyword">end</span>
}
</pre>

<p>You should set Content-Type: header field for POST. If no Content-Type: field given, this method uses “application/x-www-form-urlencoded” by default.</p>

          <div class="method-source-code" id="post-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1627</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">post</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">dest</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: +body_segment+</span>
  <span class="ruby-identifier">send_entity</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-constant">Post</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-post2" class="method-detail method-alias">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">post2</span><span
              class="method-args">(path, data, initheader = nil)</span>
          </div>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="HTTP.html#method-i-request_post">request_post</a>
        </div>
      </div>

      <div id="method-i-propfind" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">propfind</span><span
              class="method-args">(path, body = nil, initheader = {&#39;Depth&#39; =&gt; &#39;0&#39;})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends a PROPFIND request to the <code>path</code> and gets a response, as an <a href="HTTPResponse.html"><code>HTTPResponse</code></a> object.</p>

          <div class="method-source-code" id="propfind-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1667</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">propfind</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">initheader</span> = {<span class="ruby-string">&#39;Depth&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-string">&#39;0&#39;</span>})
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Propfind</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-proppatch" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">proppatch</span><span
              class="method-args">(path, body, initheader = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends a PROPPATCH request to the <code>path</code> and gets a response, as an <a href="HTTPResponse.html"><code>HTTPResponse</code></a> object.</p>

          <div class="method-source-code" id="proppatch-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1643</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">proppatch</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Proppatch</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-proxy-3F" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">proxy?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>True if requests for this connection will be proxied</p>

          <div class="method-source-code" id="proxy-3F-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1442</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">proxy?</span>
  <span class="ruby-operator">!</span><span class="ruby-operator">!</span>(<span class="ruby-ivar">@proxy_from_env</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">proxy_uri</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@proxy_address</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-proxy_address" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">proxy_address</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>The address of the proxy server, if one is configured.</p>

          <div class="method-source-code" id="proxy_address-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1461</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">proxy_address</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@proxy_from_env</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">proxy_uri</span>&amp;.<span class="ruby-identifier">hostname</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@proxy_address</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="HTTP.html#method-i-proxyaddr">proxyaddr</a>
        </div>

      </div>

      <div id="method-i-proxy_from_env-3F" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">proxy_from_env?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>True if the proxy for this connection is determined from the environment</p>

          <div class="method-source-code" id="proxy_from_env-3F-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1447</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">proxy_from_env?</span>
  <span class="ruby-ivar">@proxy_from_env</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-proxy_pass" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">proxy_pass</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>The password of the proxy server, if one is configured.</p>

          <div class="method-source-code" id="proxy_pass-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1489</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">proxy_pass</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@proxy_from_env</span>
    <span class="ruby-identifier">pass</span> = <span class="ruby-identifier">proxy_uri</span>&amp;.<span class="ruby-identifier">password</span>
    <span class="ruby-identifier">unescape</span>(<span class="ruby-identifier">pass</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">pass</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@proxy_pass</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-proxy_port" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">proxy_port</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>The port of the proxy server, if one is configured.</p>

          <div class="method-source-code" id="proxy_port-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1470</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">proxy_port</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@proxy_from_env</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">proxy_uri</span>&amp;.<span class="ruby-identifier">port</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@proxy_port</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="HTTP.html#method-i-proxyport">proxyport</a>
        </div>

      </div>

      <div id="method-i-proxy_user" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">proxy_user</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>The username of the proxy server, if one is configured.</p>

          <div class="method-source-code" id="proxy_user-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1479</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">proxy_user</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@proxy_from_env</span>
    <span class="ruby-identifier">user</span> = <span class="ruby-identifier">proxy_uri</span>&amp;.<span class="ruby-identifier">user</span>
    <span class="ruby-identifier">unescape</span>(<span class="ruby-identifier">user</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">user</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@proxy_user</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-proxyaddr" class="method-detail method-alias">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">proxyaddr</span><span
              class="method-args">()</span>
          </div>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="HTTP.html#method-i-proxy_address">proxy_address</a>
        </div>
      </div>

      <div id="method-i-proxyport" class="method-detail method-alias">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">proxyport</span><span
              class="method-args">()</span>
          </div>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="HTTP.html#method-i-proxy_port">proxy_port</a>
        </div>
      </div>

      <div id="method-i-read_timeout-3D" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">read_timeout=</span><span
              class="method-args">(sec)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sets the read timeout, in seconds, for <code>self</code> to integer <code>sec</code>; the initial value is 60.</p>

<p>Argument <code>sec</code> must be a non-negative numeric value:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hostname</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">read_timeout</span> <span class="ruby-comment"># =&gt; 60</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/todos/1&#39;</span>) <span class="ruby-comment"># =&gt; #&lt;Net::HTTPOK 200 OK readbody=true&gt;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-value">0</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/todos/1&#39;</span>) <span class="ruby-comment"># Raises Net::ReadTimeout.</span>
</pre>

          <div class="method-source-code" id="read_timeout-3D-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1064</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">read_timeout=</span>(<span class="ruby-identifier">sec</span>)
  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-identifier">sec</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span>
  <span class="ruby-ivar">@read_timeout</span> = <span class="ruby-identifier">sec</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-request" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">request</span><span
              class="method-args">(req, body = nil) { |response| ... }</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends an <a href="HTTPRequest.html"><code>HTTPRequest</code></a> object <code>req</code> to the <a href="HTTP.html"><code>HTTP</code></a> server.</p>

<p>If <code>req</code> is a <a href="HTTP/Post.html"><code>Net::HTTP::Post</code></a> or <a href="HTTP/Put.html"><code>Net::HTTP::Put</code></a> request containing data, the data is also sent. Providing data for a <a href="HTTP/Head.html"><code>Net::HTTP::Head</code></a> or <a href="HTTP/Get.html"><code>Net::HTTP::Get</code></a> request results in an <a href="../ArgumentError.html"><code>ArgumentError</code></a>.</p>

<p>Returns an <a href="HTTPResponse.html"><code>HTTPResponse</code></a> object.</p>

<p>When called with a block, passes an <a href="HTTPResponse.html"><code>HTTPResponse</code></a> object to the block. The body of the response will not have been read yet; the block can process it using <a href="HTTPResponse.html#method-i-read_body"><code>HTTPResponse#read_body</code></a>, if desired.</p>

<p>This method never raises Net::* exceptions.</p>

          <div class="method-source-code" id="request-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1815</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">request</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">body</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)  <span class="ruby-comment"># :yield: +response+</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">started?</span>
    <span class="ruby-identifier">start</span> {
      <span class="ruby-identifier">req</span>[<span class="ruby-string">&#39;connection&#39;</span>] <span class="ruby-operator">||=</span> <span class="ruby-string">&#39;close&#39;</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">request</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">body</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    }
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy_user</span>()
    <span class="ruby-identifier">req</span>.<span class="ruby-identifier">proxy_basic_auth</span> <span class="ruby-identifier">proxy_user</span>(), <span class="ruby-identifier">proxy_pass</span>() <span class="ruby-keyword">unless</span> <span class="ruby-identifier">use_ssl?</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">req</span>.<span class="ruby-identifier">set_body_internal</span> <span class="ruby-identifier">body</span>
  <span class="ruby-identifier">res</span> = <span class="ruby-identifier">transport_request</span>(<span class="ruby-identifier">req</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">sspi_auth?</span>(<span class="ruby-identifier">res</span>)
    <span class="ruby-identifier">sspi_auth</span>(<span class="ruby-identifier">req</span>)
    <span class="ruby-identifier">res</span> = <span class="ruby-identifier">transport_request</span>(<span class="ruby-identifier">req</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">res</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-request_get" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">request_get</span><span
              class="method-args">(path, initheader = nil) { |response| ... }</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends a GET request to the <code>path</code>. Returns the response as a <a href="HTTPResponse.html"><code>Net::HTTPResponse</code></a> object.</p>

<p>When called with a block, passes an <a href="HTTPResponse.html"><code>HTTPResponse</code></a> object to the block. The body of the response will not have been read yet; the block can process it using <a href="HTTPResponse.html#method-i-read_body"><code>HTTPResponse#read_body</code></a>, if desired.</p>

<p>Returns the response.</p>

<p>This method never raises Net::* exceptions.</p>

<pre class="ruby"><span class="ruby-identifier">response</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_get</span>(<span class="ruby-string">&#39;/index.html&#39;</span>)
<span class="ruby-comment"># The entity body is already read in this case.</span>
<span class="ruby-identifier">p</span> <span class="ruby-identifier">response</span>[<span class="ruby-string">&#39;content-type&#39;</span>]
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">body</span>

<span class="ruby-comment"># Using a block</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_get</span>(<span class="ruby-string">&#39;/index.html&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">response</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">p</span> <span class="ruby-identifier">response</span>[<span class="ruby-string">&#39;content-type&#39;</span>]
  <span class="ruby-identifier">response</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">str</span><span class="ruby-operator">|</span>   <span class="ruby-comment"># read body now</span>
    <span class="ruby-identifier">print</span> <span class="ruby-identifier">str</span>
  <span class="ruby-keyword">end</span>
}
</pre>

          <div class="method-source-code" id="request_get-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1726</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">request_get</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: +response+</span>
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Get</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="HTTP.html#method-i-get2">get2</a>
        </div>

      </div>

      <div id="method-i-request_head" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">request_head</span><span
              class="method-args">(path, initheader = nil, &amp;block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends a HEAD request to the <code>path</code> and returns the response as a <a href="HTTPResponse.html"><code>Net::HTTPResponse</code></a> object.</p>

<p>Returns the response.</p>

<p>This method never raises Net::* exceptions.</p>

<pre class="ruby"><span class="ruby-identifier">response</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_head</span>(<span class="ruby-string">&#39;/index.html&#39;</span>)
<span class="ruby-identifier">p</span> <span class="ruby-identifier">response</span>[<span class="ruby-string">&#39;content-type&#39;</span>]
</pre>

          <div class="method-source-code" id="request_head-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1740</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">request_head</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Head</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="HTTP.html#method-i-head2">head2</a>
        </div>

      </div>

      <div id="method-i-request_post" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">request_post</span><span
              class="method-args">(path, data, initheader = nil) { |response| ... }</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends a POST request to the <code>path</code>.</p>

<p>Returns the response as a <a href="HTTPResponse.html"><code>Net::HTTPResponse</code></a> object.</p>

<p>When called with a block, the block is passed an <a href="HTTPResponse.html"><code>HTTPResponse</code></a> object.  The body of that response will not have been read yet; the block can process it using <a href="HTTPResponse.html#method-i-read_body"><code>HTTPResponse#read_body</code></a>, if desired.</p>

<p>Returns the response.</p>

<p>This method never raises Net::* exceptions.</p>

<pre class="ruby"><span class="ruby-comment"># example</span>
<span class="ruby-identifier">response</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_post</span>(<span class="ruby-string">&#39;/cgi-bin/nice.rb&#39;</span>, <span class="ruby-string">&#39;datadatadata...&#39;</span>)
<span class="ruby-identifier">p</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">status</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">body</span>          <span class="ruby-comment"># body is already read in this case</span>

<span class="ruby-comment"># using block</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">request_post</span>(<span class="ruby-string">&#39;/cgi-bin/nice.rb&#39;</span>, <span class="ruby-string">&#39;datadatadata...&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">response</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">p</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">status</span>
  <span class="ruby-identifier">p</span> <span class="ruby-identifier">response</span>[<span class="ruby-string">&#39;content-type&#39;</span>]
  <span class="ruby-identifier">response</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">str</span><span class="ruby-operator">|</span>   <span class="ruby-comment"># read body now</span>
    <span class="ruby-identifier">print</span> <span class="ruby-identifier">str</span>
  <span class="ruby-keyword">end</span>
}
</pre>

          <div class="method-source-code" id="request_post-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1770</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">request_post</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment"># :yield: +response+</span>
  <span class="ruby-identifier">request</span> <span class="ruby-constant">Post</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">data</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="HTTP.html#method-i-post2">post2</a>
        </div>

      </div>

      <div id="method-i-response_body_encoding-3D" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">response_body_encoding=</span><span
              class="method-args">(value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sets the encoding to be used for the response body; returns the encoding.</p>

<p>The given <code>value</code> may be:</p>
<ul><li>
<p>An <a href="../Encoding.html"><code>Encoding</code></a> object.</p>
</li><li>
<p>The name of an encoding.</p>
</li><li>
<p>An alias for an encoding name.</p>
</li></ul>

<p>See <a href="../Encoding.html"><code>Encoding</code></a>.</p>

<p>Examples:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hostname</span>)
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">response_body_encoding</span> = <span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">US_ASCII</span> <span class="ruby-comment"># =&gt; #&lt;Encoding:US-ASCII&gt;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">response_body_encoding</span> = <span class="ruby-string">&#39;US-ASCII&#39;</span>         <span class="ruby-comment"># =&gt; &quot;US-ASCII&quot;</span>
<span class="ruby-identifier">http</span>.<span class="ruby-identifier">response_body_encoding</span> = <span class="ruby-string">&#39;ASCII&#39;</span>            <span class="ruby-comment"># =&gt; &quot;ASCII&quot;</span>
</pre>

          <div class="method-source-code" id="response_body_encoding-3D-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 965</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">response_body_encoding=</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">value</span> = <span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">value</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
  <span class="ruby-ivar">@response_body_encoding</span> = <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-send_request" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">send_request</span><span
              class="method-args">(name, path, data = nil, header = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends an <a href="HTTP.html"><code>HTTP</code></a> request to the <a href="HTTP.html"><code>HTTP</code></a> server. Also sends a DATA string if <code>data</code> is given.</p>

<p>Returns a <a href="HTTPResponse.html"><code>Net::HTTPResponse</code></a> object.</p>

<p>This method never raises Net::* exceptions.</p>

<pre class="ruby"><span class="ruby-identifier">response</span> = <span class="ruby-identifier">http</span>.<span class="ruby-identifier">send_request</span>(<span class="ruby-string">&#39;GET&#39;</span>, <span class="ruby-string">&#39;/index.html&#39;</span>)
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">body</span>
</pre>

          <div class="method-source-code" id="send_request-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1794</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">send_request</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">header</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">has_response_body</span> = <span class="ruby-identifier">name</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&#39;HEAD&#39;</span>
  <span class="ruby-identifier">r</span> = <span class="ruby-constant">HTTPGenericRequest</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>,(<span class="ruby-identifier">data</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>),<span class="ruby-identifier">has_response_body</span>,<span class="ruby-identifier">path</span>,<span class="ruby-identifier">header</span>)
  <span class="ruby-identifier">request</span> <span class="ruby-identifier">r</span>, <span class="ruby-identifier">data</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-set_debug_output" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">set_debug_output</span><span
              class="method-args">(output)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p><strong>WARNING</strong> This method opens a serious security hole. Never use this method in production code.</p>

<p>Sets the output stream for debugging:</p>

<pre class="ruby"><span class="ruby-identifier">http</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">hostname</span>)
<span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-string">&#39;t.tmp&#39;</span>, <span class="ruby-string">&#39;w&#39;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">set_debug_output</span>(<span class="ruby-identifier">file</span>)
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">start</span>
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/nosuch/1&#39;</span>)
  <span class="ruby-identifier">http</span>.<span class="ruby-identifier">finish</span>
<span class="ruby-keyword">end</span>
<span class="ruby-identifier">puts</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-string">&#39;t.tmp&#39;</span>)
</pre>

<p>Output:</p>

<pre>opening connection to jsonplaceholder.typicode.com:80...
opened
&lt;- &quot;GET /nosuch/1 HTTP/1.1\r\nAccept-Encoding: gzip;q=1.0,deflate;q=0.6,identity;q=0.3\r\nAccept: */*\r\nUser-Agent: Ruby\r\nHost: jsonplaceholder.typicode.com\r\n\r\n&quot;
-&gt; &quot;HTTP/1.1 404 Not Found\r\n&quot;
-&gt; &quot;Date: Mon, 12 Dec 2022 21:14:11 GMT\r\n&quot;
-&gt; &quot;Content-Type: application/json; charset=utf-8\r\n&quot;
-&gt; &quot;Content-Length: 2\r\n&quot;
-&gt; &quot;Connection: keep-alive\r\n&quot;
-&gt; &quot;X-Powered-By: Express\r\n&quot;
-&gt; &quot;X-Ratelimit-Limit: 1000\r\n&quot;
-&gt; &quot;X-Ratelimit-Remaining: 999\r\n&quot;
-&gt; &quot;X-Ratelimit-Reset: 1670879660\r\n&quot;
-&gt; &quot;Vary: Origin, Accept-Encoding\r\n&quot;
-&gt; &quot;Access-Control-Allow-Credentials: true\r\n&quot;
-&gt; &quot;Cache-Control: max-age=43200\r\n&quot;
-&gt; &quot;Pragma: no-cache\r\n&quot;
-&gt; &quot;Expires: -1\r\n&quot;
-&gt; &quot;X-Content-Type-Options: nosniff\r\n&quot;
-&gt; &quot;Etag: W/\&quot;2-vyGp6PvFo4RvsFtPoIWeCReyIC8\&quot;\r\n&quot;
-&gt; &quot;Via: 1.1 vegur\r\n&quot;
-&gt; &quot;CF-Cache-Status: MISS\r\n&quot;
-&gt; &quot;Server-Timing: cf-q-config;dur=1.3000000762986e-05\r\n&quot;
-&gt; &quot;Report-To: {\&quot;endpoints\&quot;:[{\&quot;url\&quot;:\&quot;https:\\/\\/a.nel.cloudflare.com\\/report\\/v3?s=yOr40jo%2BwS1KHzhTlVpl54beJ5Wx2FcG4gGV0XVrh3X9OlR5q4drUn2dkt5DGO4GDcE%2BVXT7CNgJvGs%2BZleIyMu8CLieFiDIvOviOY3EhHg94m0ZNZgrEdpKD0S85S507l1vsEwEHkoTm%2Ff19SiO\&quot;}],\&quot;group\&quot;:\&quot;cf-nel\&quot;,\&quot;max_age\&quot;:604800}\r\n&quot;
-&gt; &quot;NEL: {\&quot;success_fraction\&quot;:0,\&quot;report_to\&quot;:\&quot;cf-nel\&quot;,\&quot;max_age\&quot;:604800}\r\n&quot;
-&gt; &quot;Server: cloudflare\r\n&quot;
-&gt; &quot;CF-RAY: 778977dc484ce591-DFW\r\n&quot;
-&gt; &quot;alt-svc: h3=\&quot;:443\&quot;; ma=86400, h3-29=\&quot;:443\&quot;; ma=86400\r\n&quot;
-&gt; &quot;\r\n&quot;
reading 2 bytes...
-&gt; &quot;{}&quot;
read 2 bytes
Conn keep-alive</pre>

          <div class="method-source-code" id="set_debug_output-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 925</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_debug_output</span>(<span class="ruby-identifier">output</span>)
  <span class="ruby-identifier">warn</span> <span class="ruby-string">&#39;Net::HTTP#set_debug_output called after HTTP started&#39;</span>, <span class="ruby-value">uplevel:</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">started?</span>
  <span class="ruby-ivar">@debug_output</span> = <span class="ruby-identifier">output</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-start" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">start</span><span
              class="method-args">() { |http| ... }</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Opens a TCP connection and <a href="HTTP.html"><code>HTTP</code></a> session.</p>

<p>When this method is called with a block, it passes the <a href="HTTP.html"><code>Net::HTTP</code></a> object to the block, and closes the TCP connection and <a href="HTTP.html"><code>HTTP</code></a> session after the block has been executed.</p>

<p>When called with a block, it returns the return value of the block; otherwise, it returns self.</p>

          <div class="method-source-code" id="start-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1233</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">start</span>  <span class="ruby-comment"># :yield: http</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">IOError</span>, <span class="ruby-string">&#39;HTTP session already opened&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@started</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">do_start</span>
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">yield</span>(<span class="ruby-keyword">self</span>)
    <span class="ruby-keyword">ensure</span>
      <span class="ruby-identifier">do_finish</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">do_start</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-started-3F" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">started?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Returns true if the <a href="HTTP.html"><code>HTTP</code></a> session has been started.</p>

          <div class="method-source-code" id="started-3F-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1101</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">started?</span>
  <span class="ruby-ivar">@started</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="HTTP.html#method-i-active-3F">active?</a>
        </div>

      </div>

      <div id="method-i-trace" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">trace</span><span
              class="method-args">(path, initheader = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends a TRACE request to the <code>path</code> and gets a response, as an <a href="HTTPResponse.html"><code>HTTPResponse</code></a> object.</p>

          <div class="method-source-code" id="trace-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1697</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">trace</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Trace</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-unlock" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">unlock</span><span
              class="method-args">(path, body, initheader = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sends a UNLOCK request to the <code>path</code> and gets a response, as an <a href="HTTPResponse.html"><code>HTTPResponse</code></a> object.</p>

          <div class="method-source-code" id="unlock-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1655</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">unlock</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">body</span>, <span class="ruby-identifier">initheader</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">request</span>(<span class="ruby-constant">Unlock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">body</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-use_ssl-3D" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">use_ssl=</span><span
              class="method-args">(flag)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Turn on/off SSL. This flag must be set before starting session. If you change use_ssl value after session started, a <a href="HTTP.html"><code>Net::HTTP</code></a> object raises <a href="../IOError.html"><code>IOError</code></a>.</p>

          <div class="method-source-code" id="use_ssl-3D-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1118</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">use_ssl=</span>(<span class="ruby-identifier">flag</span>)
  <span class="ruby-identifier">flag</span> = <span class="ruby-identifier">flag</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">started?</span> <span class="ruby-keyword">and</span> <span class="ruby-ivar">@use_ssl</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">flag</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">IOError</span>, <span class="ruby-string">&quot;use_ssl value changed, but session already started&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@use_ssl</span> = <span class="ruby-identifier">flag</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-use_ssl-3F" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">use_ssl?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Returns true if SSL/TLS is being used with <a href="HTTP.html"><code>HTTP</code></a>.</p>

          <div class="method-source-code" id="use_ssl-3F-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1110</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">use_ssl?</span>
  <span class="ruby-ivar">@use_ssl</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-write_timeout-3D" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">write_timeout=</span><span
              class="method-args">(sec)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Sets the write timeout, in seconds, for <code>self</code> to integer <code>sec</code>; the initial value is 60.</p>

<p>Argument <code>sec</code> must be a non-negative numeric value.</p>

          <div class="method-source-code" id="write_timeout-3D-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1074</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">write_timeout=</span>(<span class="ruby-identifier">sec</span>)
  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">write_timeout</span> = <span class="ruby-identifier">sec</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span>
  <span class="ruby-ivar">@write_timeout</span> = <span class="ruby-identifier">sec</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

    </section>

     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

      <div id="method-i-D" class="method-detail method-alias">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">D</span><span
              class="method-args">(msg)</span>
          </div>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="HTTP.html#method-i-debug">debug</a>
        </div>
      </div>

      <div id="method-i-addr_port" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">addr_port</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>utils</p>

          <div class="method-source-code" id="addr_port-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1984</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">addr_port</span>
  <span class="ruby-identifier">addr</span> = <span class="ruby-identifier">address</span>
  <span class="ruby-identifier">addr</span> = <span class="ruby-node">&quot;[#{addr}]&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">addr</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;:&quot;</span>)
  <span class="ruby-identifier">default_port</span> = <span class="ruby-identifier">use_ssl?</span> <span class="ruby-operator">?</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">https_default_port</span> <span class="ruby-operator">:</span> <span class="ruby-constant">HTTP</span>.<span class="ruby-identifier">http_default_port</span>
  <span class="ruby-identifier">default_port</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">port</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">addr</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;#{addr}:#{port}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-begin_transport" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">begin_transport</span><span
              class="method-args">(req)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="begin_transport-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1901</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">begin_transport</span>(<span class="ruby-identifier">req</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
    <span class="ruby-identifier">connect</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@last_communicated</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@last_communicated</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@keep_alive_timeout</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Process</span>.<span class="ruby-identifier">clock_gettime</span>(<span class="ruby-constant">Process</span><span class="ruby-operator">::</span><span class="ruby-constant">CLOCK_MONOTONIC</span>)
      <span class="ruby-identifier">debug</span> <span class="ruby-string">&#39;Conn close because of keep_alive_timeout&#39;</span>
      <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span>
      <span class="ruby-identifier">connect</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">io</span>.<span class="ruby-identifier">to_io</span>.<span class="ruby-identifier">wait_readable</span>(<span class="ruby-value">0</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">eof?</span>
      <span class="ruby-identifier">debug</span> <span class="ruby-string">&quot;Conn close because of EOF&quot;</span>
      <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span>
      <span class="ruby-identifier">connect</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">req</span>.<span class="ruby-identifier">response_body_permitted?</span> <span class="ruby-keyword">and</span> <span class="ruby-ivar">@close_on_empty_response</span>
    <span class="ruby-identifier">req</span>[<span class="ruby-string">&#39;connection&#39;</span>] <span class="ruby-operator">||=</span> <span class="ruby-string">&#39;close&#39;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">req</span>.<span class="ruby-identifier">update_uri</span> <span class="ruby-identifier">address</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">use_ssl?</span>
  <span class="ruby-identifier">req</span>[<span class="ruby-string">&#39;host&#39;</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">addr_port</span>()
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-connect" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">connect</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="connect-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1253</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">connect</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">use_ssl?</span>
    <span class="ruby-comment"># reference early to load OpenSSL before connecting,</span>
    <span class="ruby-comment"># as OpenSSL may take time to load.</span>
    <span class="ruby-ivar">@ssl_context</span> = <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSLContext</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy?</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">conn_addr</span> = <span class="ruby-identifier">proxy_address</span>
    <span class="ruby-identifier">conn_port</span> = <span class="ruby-identifier">proxy_port</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">conn_addr</span> = <span class="ruby-identifier">conn_address</span>
    <span class="ruby-identifier">conn_port</span> = <span class="ruby-identifier">port</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;opening connection to #{conn_addr}:#{conn_port}...&quot;</span>
  <span class="ruby-identifier">s</span> = <span class="ruby-constant">Timeout</span>.<span class="ruby-identifier">timeout</span>(<span class="ruby-ivar">@open_timeout</span>, <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">OpenTimeout</span>) {
    <span class="ruby-keyword">begin</span>
      <span class="ruby-constant">TCPSocket</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">conn_addr</span>, <span class="ruby-identifier">conn_port</span>, <span class="ruby-ivar">@local_host</span>, <span class="ruby-ivar">@local_port</span>)
    <span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>, <span class="ruby-string">&quot;Failed to open TCP connection to &quot;</span> <span class="ruby-operator">+</span>
        <span class="ruby-node">&quot;#{conn_addr}:#{conn_port} (#{e.message})&quot;</span>
    <span class="ruby-keyword">end</span>
  }
  <span class="ruby-identifier">s</span>.<span class="ruby-identifier">setsockopt</span>(<span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">IPPROTO_TCP</span>, <span class="ruby-constant">Socket</span><span class="ruby-operator">::</span><span class="ruby-constant">TCP_NODELAY</span>, <span class="ruby-value">1</span>)
  <span class="ruby-identifier">debug</span> <span class="ruby-string">&quot;opened&quot;</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">use_ssl?</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy?</span>
      <span class="ruby-identifier">plain_sock</span> = <span class="ruby-constant">BufferedIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>, <span class="ruby-value">read_timeout:</span> <span class="ruby-ivar">@read_timeout</span>,
                                  <span class="ruby-value">write_timeout:</span> <span class="ruby-ivar">@write_timeout</span>,
                                  <span class="ruby-value">continue_timeout:</span> <span class="ruby-ivar">@continue_timeout</span>,
                                  <span class="ruby-value">debug_output:</span> <span class="ruby-ivar">@debug_output</span>)
      <span class="ruby-identifier">buf</span> = <span class="ruby-node">&quot;CONNECT #{conn_address}:#{@port} HTTP/#{HTTPVersion}\r\n&quot;</span>
      <span class="ruby-identifier">buf</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;Host: #{@address}:#{@port}\r\n&quot;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy_user</span>
        <span class="ruby-identifier">credential</span> = [<span class="ruby-node">&quot;#{proxy_user}:#{proxy_pass}&quot;</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-string">&#39;m0&#39;</span>)
        <span class="ruby-identifier">buf</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;Proxy-Authorization: Basic #{credential}\r\n&quot;</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">buf</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\r\n&quot;</span>
      <span class="ruby-identifier">plain_sock</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">buf</span>)
      <span class="ruby-constant">HTTPResponse</span>.<span class="ruby-identifier">read_new</span>(<span class="ruby-identifier">plain_sock</span>).<span class="ruby-identifier">value</span>
      <span class="ruby-comment"># assuming nothing left in buffers after successful CONNECT response</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">ssl_parameters</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">iv_list</span> = <span class="ruby-identifier">instance_variables</span>
    <span class="ruby-constant">SSL_IVNAMES</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ivname</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">iv_list</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">ivname</span>)
        <span class="ruby-identifier">value</span> = <span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-identifier">ivname</span>)
        <span class="ruby-keyword">unless</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">nil?</span>
          <span class="ruby-identifier">ssl_parameters</span>[<span class="ruby-constant">SSL_ATTRIBUTES</span>[<span class="ruby-identifier">i</span>]] = <span class="ruby-identifier">value</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-ivar">@ssl_context</span>.<span class="ruby-identifier">set_params</span>(<span class="ruby-identifier">ssl_parameters</span>)
    <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@ssl_context</span>.<span class="ruby-identifier">session_cache_mode</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-comment"># a dummy method on JRuby</span>
      <span class="ruby-ivar">@ssl_context</span>.<span class="ruby-identifier">session_cache_mode</span> =
          <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSLContext</span><span class="ruby-operator">::</span><span class="ruby-constant">SESSION_CACHE_CLIENT</span> <span class="ruby-operator">|</span>
              <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSLContext</span><span class="ruby-operator">::</span><span class="ruby-constant">SESSION_CACHE_NO_INTERNAL_STORE</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@ssl_context</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:session_new_cb</span>) <span class="ruby-comment"># not implemented under JRuby</span>
      <span class="ruby-ivar">@ssl_context</span>.<span class="ruby-identifier">session_new_cb</span> = <span class="ruby-identifier">proc</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">sock</span>, <span class="ruby-identifier">sess</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@ssl_session</span> = <span class="ruby-identifier">sess</span> }
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># Still do the post_connection_check below even if connecting</span>
    <span class="ruby-comment"># to IP address</span>
    <span class="ruby-identifier">verify_hostname</span> = <span class="ruby-ivar">@ssl_context</span>.<span class="ruby-identifier">verify_hostname</span>

    <span class="ruby-comment"># Server Name Indication (SNI) RFC 3546/6066</span>
    <span class="ruby-keyword">case</span> <span class="ruby-ivar">@address</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Resolv</span><span class="ruby-operator">::</span><span class="ruby-constant">IPv4</span><span class="ruby-operator">::</span><span class="ruby-constant">Regex</span>, <span class="ruby-constant">Resolv</span><span class="ruby-operator">::</span><span class="ruby-constant">IPv6</span><span class="ruby-operator">::</span><span class="ruby-constant">Regex</span>
      <span class="ruby-comment"># don&#39;t set SNI, as IP addresses in SNI is not valid</span>
      <span class="ruby-comment"># per RFC 6066, section 3.</span>

      <span class="ruby-comment"># Avoid openssl warning</span>
      <span class="ruby-ivar">@ssl_context</span>.<span class="ruby-identifier">verify_hostname</span> = <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">ssl_host_address</span> = <span class="ruby-ivar">@address</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;starting SSL for #{conn_addr}:#{conn_port}...&quot;</span>
    <span class="ruby-identifier">s</span> = <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSLSocket</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>, <span class="ruby-ivar">@ssl_context</span>)
    <span class="ruby-identifier">s</span>.<span class="ruby-identifier">sync_close</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">s</span>.<span class="ruby-identifier">hostname</span> = <span class="ruby-identifier">ssl_host_address</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:hostname=</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">ssl_host_address</span>

    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@ssl_session</span> <span class="ruby-keyword">and</span>
       <span class="ruby-constant">Process</span>.<span class="ruby-identifier">clock_gettime</span>(<span class="ruby-constant">Process</span><span class="ruby-operator">::</span><span class="ruby-constant">CLOCK_REALTIME</span>) <span class="ruby-operator">&lt;</span> <span class="ruby-ivar">@ssl_session</span>.<span class="ruby-identifier">time</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@ssl_session</span>.<span class="ruby-identifier">timeout</span>
      <span class="ruby-identifier">s</span>.<span class="ruby-identifier">session</span> = <span class="ruby-ivar">@ssl_session</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">ssl_socket_connect</span>(<span class="ruby-identifier">s</span>, <span class="ruby-ivar">@open_timeout</span>)
    <span class="ruby-keyword">if</span> (<span class="ruby-ivar">@ssl_context</span>.<span class="ruby-identifier">verify_mode</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">VERIFY_NONE</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">verify_hostname</span>
      <span class="ruby-identifier">s</span>.<span class="ruby-identifier">post_connection_check</span>(<span class="ruby-ivar">@address</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;SSL established, protocol: #{s.ssl_version}, cipher: #{s.cipher[0]}&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@socket</span> = <span class="ruby-constant">BufferedIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>, <span class="ruby-value">read_timeout:</span> <span class="ruby-ivar">@read_timeout</span>,
                           <span class="ruby-value">write_timeout:</span> <span class="ruby-ivar">@write_timeout</span>,
                           <span class="ruby-value">continue_timeout:</span> <span class="ruby-ivar">@continue_timeout</span>,
                           <span class="ruby-value">debug_output:</span> <span class="ruby-ivar">@debug_output</span>)
  <span class="ruby-ivar">@last_communicated</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">on_connect</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">exception</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">s</span>
    <span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;Conn close because of connect error #{exception}&quot;</span>
    <span class="ruby-identifier">s</span>.<span class="ruby-identifier">close</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">raise</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-debug" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">debug</span><span
              class="method-args">(msg)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Adds a message to debugging output</p>

          <div class="method-source-code" id="debug-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1992</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">debug</span>(<span class="ruby-identifier">msg</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@debug_output</span>
  <span class="ruby-ivar">@debug_output</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">msg</span>
  <span class="ruby-ivar">@debug_output</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\n&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="HTTP.html#method-i-D">D</a>
        </div>

      </div>

      <div id="method-i-do_finish" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">do_finish</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="do_finish-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1374</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">do_finish</span>
  <span class="ruby-ivar">@started</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span>
  <span class="ruby-ivar">@socket</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-do_start" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">do_start</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="do_start-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1247</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">do_start</span>
  <span class="ruby-identifier">connect</span>
  <span class="ruby-ivar">@started</span> = <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-edit_path" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">edit_path</span><span
              class="method-args">(path)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="edit_path-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1518</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">edit_path</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy?</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;ftp://&quot;</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">use_ssl?</span>
      <span class="ruby-identifier">path</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-node">&quot;http://#{addr_port}#{path}&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">path</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-end_transport" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">end_transport</span><span
              class="method-args">(req, res)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="end_transport-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1924</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">end_transport</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">res</span>)
  <span class="ruby-ivar">@curr_http_version</span> = <span class="ruby-identifier">res</span>.<span class="ruby-identifier">http_version</span>
  <span class="ruby-ivar">@last_communicated</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">closed?</span>
    <span class="ruby-identifier">debug</span> <span class="ruby-string">&#39;Conn socket closed&#39;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body</span> <span class="ruby-keyword">and</span> <span class="ruby-ivar">@close_on_empty_response</span>
    <span class="ruby-identifier">debug</span> <span class="ruby-string">&#39;Conn close&#39;</span>
    <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">keep_alive?</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">res</span>)
    <span class="ruby-identifier">debug</span> <span class="ruby-string">&#39;Conn keep-alive&#39;</span>
    <span class="ruby-ivar">@last_communicated</span> = <span class="ruby-constant">Process</span>.<span class="ruby-identifier">clock_gettime</span>(<span class="ruby-constant">Process</span><span class="ruby-operator">::</span><span class="ruby-constant">CLOCK_MONOTONIC</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">debug</span> <span class="ruby-string">&#39;Conn close&#39;</span>
    <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-keep_alive-3F" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">keep_alive?</span><span
              class="method-args">(req, res)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="keep_alive-3F-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1941</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">keep_alive?</span>(<span class="ruby-identifier">req</span>, <span class="ruby-identifier">res</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">req</span>.<span class="ruby-identifier">connection_close?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@curr_http_version</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-string">&#39;1.0&#39;</span>
    <span class="ruby-identifier">res</span>.<span class="ruby-identifier">connection_keep_alive?</span>
  <span class="ruby-keyword">else</span>   <span class="ruby-comment"># HTTP/1.1 or later</span>
    <span class="ruby-keyword">not</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">connection_close?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-on_connect" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">on_connect</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="on_connect-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1363</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">on_connect</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-send_entity" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">send_entity</span><span
              class="method-args">(path, data, initheader, dest, type, &amp;block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Executes a request which uses a representation and returns its body.</p>

          <div class="method-source-code" id="send_entity-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1838</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">send_entity</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">initheader</span>, <span class="ruby-identifier">dest</span>, <span class="ruby-identifier">type</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">res</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">request</span>(<span class="ruby-identifier">type</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">initheader</span>), <span class="ruby-identifier">data</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">r</span>.<span class="ruby-identifier">read_body</span> <span class="ruby-identifier">dest</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
    <span class="ruby-identifier">res</span> = <span class="ruby-identifier">r</span>
  }
  <span class="ruby-identifier">res</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-sspi_auth" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">sspi_auth</span><span
              class="method-args">(req)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="sspi_auth-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1965</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sspi_auth</span>(<span class="ruby-identifier">req</span>)
  <span class="ruby-identifier">n</span> = <span class="ruby-constant">Win32</span><span class="ruby-operator">::</span><span class="ruby-constant">SSPI</span><span class="ruby-operator">::</span><span class="ruby-constant">NegotiateAuth</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">req</span>[<span class="ruby-string">&quot;Proxy-Authorization&quot;</span>] = <span class="ruby-node">&quot;Negotiate #{n.get_initial_token}&quot;</span>
  <span class="ruby-comment"># Some versions of ISA will close the connection if this isn&#39;t present.</span>
  <span class="ruby-identifier">req</span>[<span class="ruby-string">&quot;Connection&quot;</span>] = <span class="ruby-string">&quot;Keep-Alive&quot;</span>
  <span class="ruby-identifier">req</span>[<span class="ruby-string">&quot;Proxy-Connection&quot;</span>] = <span class="ruby-string">&quot;Keep-Alive&quot;</span>
  <span class="ruby-identifier">res</span> = <span class="ruby-identifier">transport_request</span>(<span class="ruby-identifier">req</span>)
  <span class="ruby-identifier">authphrase</span> = <span class="ruby-identifier">res</span>[<span class="ruby-string">&quot;Proxy-Authenticate&quot;</span>]  <span class="ruby-keyword">or</span> <span class="ruby-keyword">return</span> <span class="ruby-identifier">res</span>
  <span class="ruby-identifier">req</span>[<span class="ruby-string">&quot;Proxy-Authorization&quot;</span>] = <span class="ruby-node">&quot;Negotiate #{n.complete_authentication(authphrase)}&quot;</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">err</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">HTTPAuthenticationError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;HTTP authentication failed&#39;</span>, <span class="ruby-identifier">err</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-sspi_auth-3F" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">sspi_auth?</span><span
              class="method-args">(res)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="sspi_auth-3F-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1950</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sspi_auth?</span>(<span class="ruby-identifier">res</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@sspi_enabled</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">HTTPProxyAuthenticationRequired</span>) <span class="ruby-keyword">and</span>
      <span class="ruby-identifier">proxy?</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">res</span>[<span class="ruby-string">&quot;Proxy-Authenticate&quot;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;Negotiate&quot;</span>)
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;win32/sspi&#39;</span>
      <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">LoadError</span>
      <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-transport_request" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">transport_request</span><span
              class="method-args">(req) { |res| ... }</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="transport_request-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1849</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">transport_request</span>(<span class="ruby-identifier">req</span>)
  <span class="ruby-identifier">count</span> = <span class="ruby-value">0</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">begin_transport</span> <span class="ruby-identifier">req</span>
    <span class="ruby-identifier">res</span> = <span class="ruby-identifier">catch</span>(<span class="ruby-value">:response</span>) {
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">req</span>.<span class="ruby-identifier">exec</span> <span class="ruby-ivar">@socket</span>, <span class="ruby-ivar">@curr_http_version</span>, <span class="ruby-identifier">edit_path</span>(<span class="ruby-identifier">req</span>.<span class="ruby-identifier">path</span>)
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EPIPE</span>
        <span class="ruby-comment"># Failure when writing full request, but we can probably</span>
        <span class="ruby-comment"># still read the received response.</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">res</span> = <span class="ruby-constant">HTTPResponse</span>.<span class="ruby-identifier">read_new</span>(<span class="ruby-ivar">@socket</span>)
        <span class="ruby-identifier">res</span>.<span class="ruby-identifier">decode_content</span> = <span class="ruby-identifier">req</span>.<span class="ruby-identifier">decode_content</span>
        <span class="ruby-identifier">res</span>.<span class="ruby-identifier">body_encoding</span> = <span class="ruby-ivar">@response_body_encoding</span>
        <span class="ruby-identifier">res</span>.<span class="ruby-identifier">ignore_eof</span> = <span class="ruby-ivar">@ignore_eof</span>
      <span class="ruby-keyword">end</span> <span class="ruby-keyword">while</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">HTTPInformation</span>)

      <span class="ruby-identifier">res</span>.<span class="ruby-identifier">uri</span> = <span class="ruby-identifier">req</span>.<span class="ruby-identifier">uri</span>

      <span class="ruby-identifier">res</span>
    }
    <span class="ruby-identifier">res</span>.<span class="ruby-identifier">reading_body</span>(<span class="ruby-ivar">@socket</span>, <span class="ruby-identifier">req</span>.<span class="ruby-identifier">response_body_permitted?</span>) {
      <span class="ruby-keyword">yield</span> <span class="ruby-identifier">res</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    }
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">OpenTimeout</span>
    <span class="ruby-identifier">raise</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">ReadTimeout</span>, <span class="ruby-constant">IOError</span>, <span class="ruby-constant">EOFError</span>,
         <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ECONNRESET</span>, <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ECONNABORTED</span>, <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EPIPE</span>, <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ETIMEDOUT</span>,
         <span class="ruby-comment"># avoid a dependency on OpenSSL</span>
         <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSLError</span> <span class="ruby-operator">:</span> <span class="ruby-constant">IOError</span>,
         <span class="ruby-constant">Timeout</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">exception</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">count</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">max_retries</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">IDEMPOTENT_METHODS_</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">req</span>.<span class="ruby-identifier">method</span>)
      <span class="ruby-identifier">count</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
      <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span>
      <span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;Conn close because of error #{exception}, and retry&quot;</span>
      <span class="ruby-keyword">retry</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;Conn close because of error #{exception}&quot;</span>
    <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span>
    <span class="ruby-identifier">raise</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">end_transport</span> <span class="ruby-identifier">req</span>, <span class="ruby-identifier">res</span>
  <span class="ruby-identifier">res</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">exception</span>
  <span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;Conn close because of error #{exception}&quot;</span>
  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@socket</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-identifier">exception</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-unescape" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">unescape</span><span
              class="method-args">(value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="unescape-source">
            <pre><span class="ruby-comment"># File lib/net/http.rb, line 1503</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">unescape</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;cgi/util&#39;</span>
  <span class="ruby-constant">CGI</span>.<span class="ruby-identifier">unescape</span>(<span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

    </section>

  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.5.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

